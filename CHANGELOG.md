# dbt Fusion changelog
All notable changes to this project will be documented in this file.

- This file provides a full account of all changes to the fusion lsp
- Changes are listed under the (pre)release in which they first appear. Subsequent releases include changes from previous releases.
- "Breaking changes" listed under a version may require action from end users or external maintainers when upgrading to that version.
- Do not edit this file directly. This file is auto-generated using [changie](https://github.com/miniscruff/changie). For details on how to document a change, see [the contributing guide](CONTRIBUTING.md#adding-a-changelog-entry).

## 2.0.0-preview.54 - October 30, 2025

### Features

- [dbt-fusion] Add udf volatility field, move function type to config

### Fixes

- [dbt-fusion] fix ephemeral model comparison
- [dbt-fusion] disable typecheck error output
- [dbt-fusion] Support spaces in interval literals in Snowflake binder

### Under the Hood

- [dbt-fusion] duck db integration



## 2.0.0-preview.53 - October 30, 2025

### Breaking Changes

- [dbt-fusion] Metrics can no longer define metrics (use input_metrics)

### Features

- [dbt-fusion] Metrics can be hidden

### Fixes

- [dbt-fusion] Fix semantic-models config in dbt_project.yml
- [dbt-fusion] Column level entity/dimension sets expr as column name
- [dbt-fusion] Various fixes for exports

### Contributors
- [@aiguofer](https://github.com/aiguofer)


## 2.0.0-preview.52 - October 29, 2025

### Features

- [dbt-fusion] Recognize certain casts as 'copy' in lineage tracking
- [dbt-fusion] Add support for Semantic Layer exports in Studio and Orch
- [dbt-fusion] Add support for persisting tables in Glue via Snowflake Iceberg REST w Catalog Linked DB

### Fixes

- [dbt-fusion] Enable reading of pre/post hooks from mantle manifests ([#768](https://github.com/dbt-labs/dbt-fusion/issues/768))
- [dbt-fusion] Fix semantic naming issue when determining whether to reach out to remote. Snapshots with different names remotely may have been impacted.

### Under the Hood

- [internal] Upgrade Datafusion to 50.0.0
- [internal] Fix incremental strategy handling in replay mode
- [dbt-fusion] Expand support for variant type handling in Redshift and Databricks

### Contributors
- [@aiguofer](https://github.com/aiguofer)
- [@colin-rogers-dbt](https://github.com/colin-rogers-dbt)
- [@jasonlin45](https://github.com/jasonlin45)
- [@lottaquestions](https://github.com/lottaquestions) ([#768](https://github.com/dbt-labs/dbt-fusion/issues/768))


## 2.0.0-preview.51 - October 29, 2025

### Features

- [dbt-fusion] Implement source_status selector ([#47](https://github.com/dbt-labs/dbt-fusion/issues/47))
- [dbt-fusion] [Bigquery] catalogs.yml support for tables and incremental models in Biglake Metastore
- [dbt-fusion] Link to Bigquery job on failure ([#931](https://github.com/dbt-labs/dbt-fusion/issues/931))
- [dbt-fusion] [Bigquery] Add support for setting quota_project ([#950](https://github.com/dbt-labs/dbt-fusion/issues/950))
- [dbt-fusion] Display warnings and errors summary at end of run ([#429](https://github.com/dbt-labs/dbt-fusion/issues/429))

### Fixes

- [dbt-fusion] Improve handling of BigQuery subqueries with AS STRUCT and AS VALUE clauses
- [dbt-fusion] Limit threads based on config for Bigquery ([#900](https://github.com/dbt-labs/dbt-fusion/issues/900))
- [dbt-fusion] BQ: Calculated variable _dbt_max_partition raises error ([#937](https://github.com/dbt-labs/dbt-fusion/issues/937))
- [dbt-fusion] fix is sameas ([#855](https://github.com/dbt-labs/dbt-fusion/issues/855))
- [dbt-fusion] +dataset not supported in BQ for store_failures settings of data_tests ([#921](https://github.com/dbt-labs/dbt-fusion/issues/921))
- [dbt-fusion] pass target schema/database through generate name macros for snapshots ([#303](https://github.com/dbt-labs/dbt-fusion/issues/303))

### Under the Hood

- [dbt-fusion] Add data type int64 to unit test comparison
- [dbt-fusion] format functions.sdf.yml

### Dependencies

- [dbt-fusion] update iana-time-zone to `0.1.62`

### Contributors
- [@ajhlee-dbt](https://github.com/ajhlee-dbt) ([#931](https://github.com/dbt-labs/dbt-fusion/issues/931), [#950](https://github.com/dbt-labs/dbt-fusion/issues/950))
- [@colin-rogers-dbt](https://github.com/colin-rogers-dbt)
- [@jasonlin45](https://github.com/jasonlin45) ([#900](https://github.com/dbt-labs/dbt-fusion/issues/900))


## 2.0.0-preview.50 - October 27, 2025

### Features

- [dbt-fusion] add span for static analysis off

### Under the Hood

- [dbt-fusion] Fix bigquery private key newline handling
- [internal] Cache drivers binaries
- [dbt-fusion] internal test generation framework fixes
- [dbt-fusion] Add data type int64 to unit test comparison

### Contributors
- [@ajhlee-dbt](https://github.com/ajhlee-dbt)


## 2.0.0-preview.49 - October 22, 2025

### Under the Hood

- [dbt-fusion] Make number fields in catalog stats actual JSON number values
- [dbt-fusion] Adjust logic for generating catalog.json to better match mantle



## 2.0.0-preview.48 - October 22, 2025

### Features

- [dbt-fusion] Make SQL grammars source available

### Fixes

- [dbt-fusion] Improve checksum calculation by making it stable with respect to whitespaces and case. Checksum caclulation for snapshots is also fixed to match mantle. ([#768](https://github.com/dbt-labs/dbt-fusion/issues/768))
- [dbt-fusion] Fix spelling of "delimiter" ([#909](https://github.com/dbt-labs/dbt-fusion/issues/909))

### Under the Hood

- [dbt-fusion] [Databricks]Verticalize schema field creation of relations coming from ADBC drivers

### Contributors
- [@dbeatty10](https://github.com/dbeatty10) ([#909](https://github.com/dbt-labs/dbt-fusion/issues/909))
- [@lottaquestions](https://github.com/lottaquestions) ([#768](https://github.com/dbt-labs/dbt-fusion/issues/768))


## 2.0.0-preview.47 - October 21, 2025

### Fixes

- [dbt-fusion] Fix merging of frehsness and event_time configs for sources. ([#767](https://github.com/dbt-labs/dbt-fusion/issues/767))
- [dbt-fusion] Add Snowflake default request timeout
- [dbt-fusion] fix schema download failes when source table is Glue catalog table of string type ([#863](https://github.com/dbt-labs/dbt-fusion/issues/863))
- [dbt-fusion] Fix start location in `Option<Spanned<T>>` fields
- [dbt-fusion] Fix use of udf function config
- [dbt-fusion] Add location info for malformed `column_types` errors ([#882](https://github.com/dbt-labs/dbt-fusion/issues/882))
- [dbt-fusion] Remove typo (`analysises` -> `analyses`) üêçüêçüêç
- [dbt-fusion] Redshift: fusion tries to create schemas for sources in target database ([#880](https://github.com/dbt-labs/dbt-fusion/issues/880))
- [dbt-fusion] Make the model.columns Jinja map respect the true order of columns ([#773](https://github.com/dbt-labs/dbt-fusion/issues/773), [#878](https://github.com/dbt-labs/dbt-fusion/issues/878))
- [dbt-fusion] build should only run models, seeds, snapshots, and tests
- [dbt-fusion] LSP: Gracefully handle deregistering a table by FQN on invalidation
- [dbt-fusion] (fix adapters/redshift) fix a synx error for the default incremental
- [dbt-fusion] (fix adapeters/bigquery) always preserve casing for BigQuery identifier ([#899](https://github.com/dbt-labs/dbt-fusion/issues/899))
- [dbt-fusion] dbt.log file will no longer be truncated on every fusion invocation
- [dbt-fusion] A more suitable Arrow IntervalUnit for month INTERVAL types in Trino and RedShift

### Under the Hood

- [dbt-fusion] One legacy Semantic Layer spec warning message per package
- [internal] internal test infra
- [internal] Refactored cache added/dropped/renamed in BaseAdapter for better type safety ([#6116](https://github.com/dbt-labs/dbt-fusion/issues/6116))
- [dbt-fusion] [Redshift]Verticalize schema field creation of relations coming from ADBC drivers
- [dbt-fusion] Slightly improved freshness error msg
- [internal] Cache versioned binaries for a year

### Contributors
- [@ajhlee-dbt](https://github.com/ajhlee-dbt) ([#773](https://github.com/dbt-labs/dbt-fusion/issues/773), [#878](https://github.com/dbt-labs/dbt-fusion/issues/878))
- [@csquire](https://github.com/csquire)
- [@dbtagarovat](https://github.com/dbtagarovat) ([#6116](https://github.com/dbt-labs/dbt-fusion/issues/6116))
- [@jasonlin45](https://github.com/jasonlin45)
- [@lottaquestions](https://github.com/lottaquestions) ([#767](https://github.com/dbt-labs/dbt-fusion/issues/767))
- [@serramatutu](https://github.com/serramatutu)


## 2.0.0-preview.45 - October 09, 2025

### Fixes

- [dbt-fusion] Fixes issue with agentic autofix downloading



## 2.0.0-preview.44 - October 09, 2025

### Fixes

- [dbt-fusion] stop show frontier nodes
- [dbt-fusion] LSP: Fixed code lens from hanging LSP server

### Dependencies

- [dbt-extension] Update dbt-dag and sourdough dependencies to correctly decorate user-defined functions in lineage

### Contributors
- [@davidharting](https://github.com/davidharting)


## 2.0.0-preview.43 - October 08, 2025

### Features

- [dbt-fusion] Adds agentic autofix step to onboarding

### Fixes

- [dbt-extension] Improve cross-project references in lineage viz
- [dbt-fusion] Better location info for `config` validation errors
- [dbt-fusion] Parse Snowflake structured array type such as ARRAY(VARCHAR) ([#849](https://github.com/dbt-labs/dbt-fusion/issues/849))

### Under the Hood

- [dbt-fusion] Catalog spec error spans

### Contributors
- [@jasonlin45](https://github.com/jasonlin45)


## 2.0.0-preview.42 - October 08, 2025

### Features

- [dbt-fusion] Introduce Query Cache under flag
- [dbt-extension] UseBetaQueryCache Flag in VSCE

### Fixes

- [dbt-fusion] Add support for Downstream Off Static Analysis Reason
- [dbt-fusion] Still write run_results.json when there's error ([#6132](https://github.com/dbt-labs/dbt-fusion/issues/6132))
- [dbt-fusion] [Bigquery] Fix job labels not including invocation id ([#868](https://github.com/dbt-labs/dbt-fusion/issues/868))
- [dbt-fusion] Typechecking for BigQuery EDIT_DISTANCE function ([#870](https://github.com/dbt-labs/dbt-fusion/issues/870))
- [dbt-fusion] Correctly defer run operations for compile and test
- [dbt-fusion] Typechecking for Snowflake ARRAY_SIZE on structured arrays ([#873](https://github.com/dbt-labs/dbt-fusion/issues/873))

### Under the Hood

- [dbt-fusion] fix unit test table rendering
- [dbt-fusion] Proper plumbing for AdapterError
- [dbt-extension] removing refresh source schemas and renaming clear target dir to clear cache

### Contributors
- [@ajhlee-dbt](https://github.com/ajhlee-dbt) ([#868](https://github.com/dbt-labs/dbt-fusion/issues/868))
- [@akbog](https://github.com/akbog)
- [@jasonlin45](https://github.com/jasonlin45)


## 2.0.0-preview.41 - October 08, 2025

### Fixes

- [dbt-fusion] Build_after.update_on should be able to operate independently ([#5756](https://github.com/dbt-labs/dbt-fusion/issues/5756))
- [dbt-fusion] mute typecheck errors
- [dbt-fusion] Join catalog entries on lowercased relation name
- [dbt-fusion] shrink macro def span

### Under the Hood

- [dbt-fusion] LSP: Return null hover results if document is dirty
- [dbt-fusion] Promote CLL menu to top of navigation
- [dbt-fusion] Add databricks udf macro

### Contributors
- [@dbtlabs007](https://github.com/dbtlabs007) ([#5756](https://github.com/dbt-labs/dbt-fusion/issues/5756))
- [@jasonlin45](https://github.com/jasonlin45)


## 2.0.0-preview.40 - October 07, 2025

### Features

- [dbt-fusion] Add `fields` and `flatten()` to `Column` (BigQuery) ([#461](https://github.com/dbt-labs/dbt-fusion/issues/461))
- [dbt-fusion] Add databricks Unity Catalog Iceberg materializations: seed, table, and incremental.

### Fixes

- [dbt-fusion] Hydrate data tests' raw and compiled code fields in manifest
- [dbt-fusion] Remove collation from parsed type string
- [dbt-fusion] Hydrate input_metrics and offset_to_grain for metrics in manifest and semantic_manifest
- [dbt-fusion] Manifest: fix `original_file_path` field for generic data tests
- [dbt-fusion] fix jinja variable goto def
- [dbt-fusion] Fix nested datatypes in columns ([#851](https://github.com/dbt-labs/dbt-fusion/issues/851), [#852](https://github.com/dbt-labs/dbt-fusion/issues/852))

### Contributors
- [@ajhlee-dbt](https://github.com/ajhlee-dbt) ([#851](https://github.com/dbt-labs/dbt-fusion/issues/851), [#852](https://github.com/dbt-labs/dbt-fusion/issues/852))
- [@jasonlin45](https://github.com/jasonlin45)
- [@serramatutu](https://github.com/serramatutu) ([#461](https://github.com/dbt-labs/dbt-fusion/issues/461))
- [@versusfacit](https://github.com/versusfacit)


## 2.0.0-preview.39 - October 07, 2025

### Features

- [internal] dbt-compare ([#'](https://github.com/dbt-labs/dbt-fusion/issues/'))
- [dbt-fusion] Added analysis support
- [dbt-fusion] add macro depends_on in manifest
- [dbt-fusion] Add moms-flower-shop as a sample project to initialize with ([#858](https://github.com/dbt-labs/dbt-fusion/issues/858))

### Fixes

- [dbt-fusion] Add new execution summary report and remove old one that only showed unit test counts ([#416](https://github.com/dbt-labs/dbt-fusion/issues/416))
- [dbt-fusion] LSP: Fixed refresh source schemas not doing a re-compilation
- [dbt-fusion] Fix tblproperties handling ([#857](https://github.com/dbt-labs/dbt-fusion/issues/857))
- [dbt-fusion] allow udf's to pass args from outside

### Under the Hood

- [dbt-fusion] Added support for primary_key field in manifest.json
- [dbt-fusion] Treat threads as a limiter of parallelism only on Redshift
- [dbt-fusion] The existence of a package's "dbt_project.yml" determines if the package is missing or not 
- [dbt-fusion] Use 'describe table' instead of 'DESC TABLE'
- [internal] Fix context generated schema sanitization
- [dbt-fusion] Static Log Regex to imporve render perf

### Contributors
- [@ajhlee-dbt](https://github.com/ajhlee-dbt) ([#858](https://github.com/dbt-labs/dbt-fusion/issues/858))
- [@jasonlin45](https://github.com/jasonlin45) ([#857](https://github.com/dbt-labs/dbt-fusion/issues/857))
- [@vadim82](https://github.com/vadim82)


## 2.0.0-preview.38 - October 06, 2025

### Features

- [dbt-fusion] Implement UDF function resources



## 2.0.0-preview.37 - October 06, 2025

### Features

- [dbt-fusion] (dbt-snowflake) full catalogs.yml support for  tables, incremental models, and dynamic table in Horizon catalog and REST catalog.
- [dbt-fusion] Add project_id to manifest.metadata

### Fixes

- [dbt-fusion] [Bigquery] Render query comment only once per query
- [dbt-fusion] Only add refs for models, snapshots and seeds
- [dbt-fusion] Fix deferral pointing to local relation
- [dbt-fusion] better error message for hydrating table miss
- [internal] Fix hash mismatch when overriding schema in record/replay

### Under the Hood

- [dbt-fusion] Improve logging and error handling for unix installs ([#748](https://github.com/dbt-labs/dbt-fusion/issues/748))
- [dbt-fusion] Refactor adapter.quote to parse args in dispatch
- [internal] extracted parameter passing in funcs for expand target column types
- [internal] extracted parameter passing in funcs for describe_relation
- [dbt-fusion] added in meta and tags to appropriate nodes
- [dbt-fusion] improve is_relation_snapshot performance by not doing it
- [dbt-fusion] Fix failing test (CTAS) w/ max varchar size
- [internal] Fix threadlocal node_id inconsistency

### Contributors
- [@ajhlee-dbt](https://github.com/ajhlee-dbt)
- [@akbog](https://github.com/akbog)
- [@chrismorrisette-dbt](https://github.com/chrismorrisette-dbt)
- [@dbtagarovat](https://github.com/dbtagarovat)
- [@jasonlin45](https://github.com/jasonlin45)
- [@jcserv](https://github.com/jcserv)
- [@versusfacit](https://github.com/versusfacit)


## 2.0.0-preview.36 - October 03, 2025

### Features

- [dbt-fusion] Only defer during compile | test when a model is unsafe

### Fixes

- [dbt-fusion] Basic typechecking for Snowflake ARRAYS_OVERLAP on structured arrays ([#842](https://github.com/dbt-labs/dbt-fusion/issues/842))
- [dbt-fusion] BigQuery query comment labels are now properly applied to the query jobs instead of the target tables ([#845](https://github.com/dbt-labs/dbt-fusion/issues/845))
- [dbt-fusion] Fix some timezone crashes on Windows

### Under the Hood

- [dbt-fusion] Validate metric optional time windows

### Contributors
- [@ajhlee-dbt](https://github.com/ajhlee-dbt)
- [@akbog](https://github.com/akbog)
- [@serramatutu](https://github.com/serramatutu) ([#845](https://github.com/dbt-labs/dbt-fusion/issues/845))


## 2.0.0-preview.35 - October 02, 2025

### Breaking Changes

- [dbt-fusion] Legacy SL spec will warn only once and will not write semantic resources into manifest and will not write semantic_manifest.json

### Features

- [dbt-fusion] add snowflake external browser allow_id_token tip to debug ([#5964](https://github.com/dbt-labs/dbt-fusion/issues/5964))
- [dbt-extension] show snowflake external browser allow_id_token tip ([#5964](https://github.com/dbt-labs/dbt-fusion/issues/5964))

### Fixes

- [dbt-fusion] Source freshness in manifest is always serialized and hydrated when unconfigured (distinction between empty freshness and freshness is null)
- [dbt-fusion] Strict parsing for column semantic layer properties
- [dbt-fusion] CLI: Use absolute file path when reading files in typechecking

### Under the Hood

- [dbt-fusion] Adding more nodes to parquet files

### Contributors
- [@emerson-paiva](https://github.com/emerson-paiva) ([#5964](https://github.com/dbt-labs/dbt-fusion/issues/5964), [#5964](https://github.com/dbt-labs/dbt-fusion/issues/5964))


## 2.0.0-preview.34 - October 02, 2025

### Fixes

- [dbt-fusion] Fix dispatch search_order not followed ([#743](https://github.com/dbt-labs/dbt-fusion/issues/743))
- [dbt-fusion] Improve error message when snowflake private key file path does not exist
- [dbt-fusion] Fix MFS auth in Studio and Orch pods
- [dbt-fusion] Time spine hydration in semantic manifest doesn't require model to be semantic model
- [dbt-fusion] Recognize APPROXIMATE_COUNT_DISTINCT function synonym in Snowflake ([#843](https://github.com/dbt-labs/dbt-fusion/issues/843))
- [dbt-fusion] suppress type check error
- [dbt-fusion] Fix greedy serialization of manifest.json source artifacts (OOM issues)

### Under the Hood

- [dbt-fusion] Validate semantic model time spine
- [dbt-fusion] Add group attribute to the manifest serialization
- [internal] Updated use of get_columns_for_relation in tests

### Security

- [dbt-fusion] Sanitize package urls during install

### Contributors
- [@aiguofer](https://github.com/aiguofer)
- [@akbog](https://github.com/akbog)
- [@chrismorrisette-dbt](https://github.com/chrismorrisette-dbt)
- [@dbtagarovat](https://github.com/dbtagarovat)
- [@jasonlin45](https://github.com/jasonlin45)


## 2.0.0-preview.33 - October 01, 2025

### Features

- [dbt-fusion] [Bigquery] Support ARRAY and STRUCT types in unit tests ([#810](https://github.com/dbt-labs/dbt-fusion/issues/810))

### Fixes

- [dbt-fusion] LSP: Fixed regression of changing source config yml files not propagating

### Contributors
- [@\](https://github.com/\)
- [@jasonlin45](https://github.com/jasonlin45) ([#810](https://github.com/dbt-labs/dbt-fusion/issues/810))


## 2.0.0-preview.32 - September 30, 2025

### Features

- [dbt-fusion] support unit test input SQL format
- [dbt-fusion] Hydrate dimension validity params in semantic manifest to support natural entities
- [dbt-fusion] split statements and get spans

### Fixes

- [dbt-fusion] LSP: Fixed an issue where tooling would stop working for some files after a save
- [dbt-extension] Fix for dbt-lsp installation when temp dir is mounted on a different device ([#838](https://github.com/dbt-labs/dbt-fusion/issues/838))

### Under the Hood

- [dbt-fusion] Warn users when Semantic Layer legacy spec is used
- [dbt-fusion] Hydrate metrics.$.cumulative_type_params.grain_to_date instead of metrics.$.grain_to_date
- [dbt-fusion] Validate metric names

### Contributors
- [@wizardxz@gmail.com](https://github.com/wizardxz@gmail.com)


## 2.0.0-preview.31 - September 30, 2025

### Features

- [dbt-fusion] [FEAT] Support impersonate_service_account of BigQuery adapte ([#409](https://github.com/dbt-labs/dbt-fusion/issues/409))

### Fixes

- [dbt-fusion] fix macrospans ([#825](https://github.com/dbt-labs/dbt-fusion/issues/825))
- [dbt-fusion] Yaml: fix sometimes incorrect location info on the first key of mapping objects ([#809](https://github.com/dbt-labs/dbt-fusion/issues/809))
- [dbt-fusion] Respect store_failures config option ([#606](https://github.com/dbt-labs/dbt-fusion/issues/606))

### Under the Hood

- [dbt-fusion] Improve error message for PKCS#1 private key
- [dbt-fusion] Hydrate raw_code with proper values in manifest

### Contributors
- [@ajhlee-dbt](https://github.com/ajhlee-dbt) ([#606](https://github.com/dbt-labs/dbt-fusion/issues/606))
- [@timvyas](https://github.com/timvyas) ([#409](https://github.com/dbt-labs/dbt-fusion/issues/409))
- [@yu-iskw](https://github.com/yu-iskw) ([#409](https://github.com/dbt-labs/dbt-fusion/issues/409))


## 2.0.0-preview.30 - September 29, 2025

### Features

- [dbt-fusion] Enable semantic manifest validation based on dbt_cloud.yaml
- [dbt-fusion] Indicate named arguments and parameters in error messages for function resolution
- [dbt-fusion] Basic support for Snowflake structured array type
- [dbt-extension] Introduce VSCE Static Analysic Code Lenses for Errors (Pt. 1) ([#732](https://github.com/dbt-labs/dbt-fusion/issues/732))

### Fixes

- [dbt-fusion] Stop exiting shell on windows after initial install ([#671](https://github.com/dbt-labs/dbt-fusion/issues/671))
- [dbt-fusion] LSP: Fixed erroneous missing schema errors
- [dbt-fusion] Fix 'this' behavior to match defer in tests ([#763](https://github.com/dbt-labs/dbt-fusion/issues/763))
- [dbt-fusion] Reject BigQuery query attempting ARRAY of ARRAY construction
- [dbt-fusion] Add Snowflake ARRAY_REVERSE function
- [dbt-fusion] LSP: Evict compiler state ASAP when we detect invalid state
- [dbt-fusion] Fix format of .user.yml file
- [dbt-fusion] LSP: Properly resetting static analysis

### Under the Hood

- [internal] Added new lsp endpoint to set workspace state
- [dbt-fusion] Use create_schema macro when registering schemas ([#795](https://github.com/dbt-labs/dbt-fusion/issues/795))
- [dbt-fusion] Fix default value for contract.alias_types

### Contributors
- [@aiguofer](https://github.com/aiguofer)
- [@ajhlee-dbt](https://github.com/ajhlee-dbt) ([#795](https://github.com/dbt-labs/dbt-fusion/issues/795))
- [@akbog](https://github.com/akbog) ([#732](https://github.com/dbt-labs/dbt-fusion/issues/732), [#763](https://github.com/dbt-labs/dbt-fusion/issues/763))


## 2.0.0-preview.29 - September 26, 2025

### Features

- [dbt-fusion] get span from multiple statements

### Fixes

- [dbt-fusion] Fix broken datetime macro ([#789](https://github.com/dbt-labs/dbt-fusion/issues/789))
- [dbt-fusion] LSP: Fixed source yml files not propagating changes
- [dbt-fusion] fix snapshot field casing

### Under the Hood

- [internal] Removed initializationParams support in the lsp for dbt workspace state



## 2.0.0-preview.28 - September 25, 2025

### Features

- [dbt-fusion] run_started_at override
- [dbt-fusion] Add parsing for catalogs.yml ([#5118](https://github.com/dbt-labs/dbt-fusion/issues/5118))
- [dbt-fusion] Add more information to the query log, including databaes query_id when available (currently only Snowflake adapter)

### Fixes

- [dbt-fusion] Fix databricks and dbt tags for incremental materializations ([#4859](https://github.com/dbt-labs/dbt-fusion/issues/4859))
- [dbt-fusion] Make show command follow dbt-core behavior
- [dbt-fusion] Error message that BiqQuery EXTERNAL_QUERY is not supported ([#801](https://github.com/dbt-labs/dbt-fusion/issues/801))
- [dbt-fusion] fix resolve docs
- [dbt-fusion] Fix BigQuery SQL compilation error when SELECT AS VALUE is used with non-STRUCT value
- [dbt-fusion] [BUG] fix grants for databricks ([#794](https://github.com/dbt-labs/dbt-fusion/issues/794))
- [dbt-fusion] Support SQL compilation of BigQuery UNION/INTERSECT/EXCEPT BY NAME
- [dbt-fusion] Fixes complex type handling on cache miss
- [dbt-fusion] [Redshift] Use SVV_ALL_COLUMNS instead of SVV_COLUMNS to support external tables
- [dbt-fusion] [Bigquery] Fixes for Repeated and Record types ([#802](https://github.com/dbt-labs/dbt-fusion/issues/802))

### Under the Hood

- [dbt-fusion] Use Rust 1.89
- [dbt-extension] Start the LSP with state and defer CLI flags if configured
- [dbt-fusion] ignore use warehouse
- [dbt-extension] Always prompt users to reload VSCode after updating extension

### Contributors
- [@davidharting](https://github.com/davidharting)
- [@jasonlin45](https://github.com/jasonlin45) ([#802](https://github.com/dbt-labs/dbt-fusion/issues/802))
- [@versusfacit](https://github.com/versusfacit) ([#5118](https://github.com/dbt-labs/dbt-fusion/issues/5118))


## 2.0.0-preview.27 - September 24, 2025

### Breaking Changes

- [dbt-fusion] Granularity no longer allowed at model column dimension level

### Features

- [dbt-fusion] Hydrate project_configuration in semantic manifest

### Fixes

- [dbt-fusion] fixes values_to_arrow
- [dbt-fusion] Reject qualified identifiers when selecting from subquery without alias
- [dbt-fusion] Reject INSERT statements with wrong number of columns
- [dbt-fusion] Reject CREATE TABLE with duplicate column names
- [dbt-fusion] Fix SQL compilation error for Databricks query with LATERAL relation
- [dbt-fusion] Fix compiled SQL type of BigQuery coercion of two structs
- [dbt-fusion] Fix SQL compilation of BigQuery * REPLACE with case differences
- [dbt-fusion] [BigQuery] Prevent empty statements from executing ([#797](https://github.com/dbt-labs/dbt-fusion/issues/797))
- [dbt-fusion] Fix freshness timestamp conversions ([#805](https://github.com/dbt-labs/dbt-fusion/issues/805))
- [dbt-fusion] [Snowflake] Use DESC TABLE for metadata pulldown instead to support nested type handling ([#777](https://github.com/dbt-labs/dbt-fusion/issues/777))
- [dbt-fusion] Fix schema for semantic_manifest.project_configuration.dsi_package_version

### Under the Hood

- [dbt-fusion] Create a method that will be used for improved equality checking for pre/post hooks.
- [dbt-fusion] Do not set model access in the config in the manifest

### Contributors
- [@ajhlee-dbt](https://github.com/ajhlee-dbt) ([#797](https://github.com/dbt-labs/dbt-fusion/issues/797))
- [@jasonlin45](https://github.com/jasonlin45) ([#805](https://github.com/dbt-labs/dbt-fusion/issues/805), [#777](https://github.com/dbt-labs/dbt-fusion/issues/777))
- [@lottaquestions](https://github.com/lottaquestions)


## 2.0.0-preview.26 - September 23, 2025

### Fixes

- [dbt-fusion] Add missing `dataset` and `project` aliases in seeds, data tests, models and sources ([#343](https://github.com/dbt-labs/dbt-fusion/issues/343))
- [dbt-fusion] 775 [BUG] Fusion doesn't apply query_tag set in profile ([#775](https://github.com/dbt-labs/dbt-fusion/issues/775))

### Contributors
- [@serramatutu](https://github.com/serramatutu) ([#343](https://github.com/dbt-labs/dbt-fusion/issues/343))


## 2.0.0-preview.25 - September 23, 2025

### Features

- [dbt-fusion] Hydrate selectors in manifest

### Fixes

- [dbt-fusion] Limited typechecking of Databricks READ_FILES()  ([#593](https://github.com/dbt-labs/dbt-fusion/issues/593))
- [dbt-fusion] Reject invalid t.* reference after Snowflake PIVOT
- [dbt-fusion] Fix compute failure when right BETWEEN arm requires coercion
- [dbt-fusion] Fix incorrect compute result when NOT BETWEEN arms require different coercions
- [dbt-fusion] Correctly coerce Snowflake string to number in comparison
- [dbt-fusion] Added support for `cluster_by`, `kms_key_name` and `hours_to_expiration` for BigQuery materialized views
- [dbt-fusion] Handle Snowflake untyped decimal(38,38) string literals
- [dbt-fusion] Correctly coerce Snowflake string to number in IN-list comparisons
- [dbt-extension] Fix for extension hanging after version upgrade ([#420](https://github.com/dbt-labs/dbt-fusion/issues/420))
- [dbt-fusion] Enable fusion to read pre/post hook fields from dbt-mantle/dbt-core manifests.
- [dbt-fusion] Fix incremental model failing due to temp relation ([#769](https://github.com/dbt-labs/dbt-fusion/issues/769))
- [dbt-fusion] Salesforce - Cancellation and fixing a race condition around creating a data transform

### Under the Hood

- [dbt-fusion] Remove FS traversal from binder

### Contributors
- [@ajhlee-dbt](https://github.com/ajhlee-dbt) ([#769](https://github.com/dbt-labs/dbt-fusion/issues/769))
- [@jcserv](https://github.com/jcserv)
- [@lottaquestions](https://github.com/lottaquestions)
- [@serramatutu](https://github.com/serramatutu)


## 2.0.0-preview.24 - September 22, 2025

### Features

- [dbt-fusion] Add sampling plans (push/pull), local execute mode, and improved table persistence/test output

### Fixes

- [dbt-fusion] Hydrate more fields of semantic resources in manifest and semantic_manifest
- [dbt-fusion] fix inject_and_persist_ephemeral_models
- [dbt-fusion] Reject invalid t.* reference after Snowflake PIVOT
- [dbt-fusion] Parse Snowflake structured ARRAY type
- [dbt-fusion] [Snowflake] Fix roundtripping from sources for varchar and binary sizes
- [dbt-fusion] Ensure compilation context variables are defined
- [dbt-fusion] Make public models match mantle manifest (empty paths, top level access attribute)
- [dbt-fusion] Remove duplicate model yaml parsing errors

### Contributors
- [@ajhlee-dbt](https://github.com/ajhlee-dbt)
- [@jasonlin45](https://github.com/jasonlin45)
- [@wolfram-s](https://github.com/wolfram-s)


## 2.0.0-preview.23 - September 19, 2025

### Features

- [dbt-fusion] [FEAT] Support Declaring Databricks Compute on Model Config ([#564](https://github.com/dbt-labs/dbt-fusion/issues/564))
- [dbt-fusion] (feat) populates adapter_response in run_results.json

### Fixes

- [dbt-fusion] Allow selection of 0 columns



## 2.0.0-preview.22 - September 19, 2025

### Features

- [dbt-fusion] Add support for BigQuery materialized views ([#550](https://github.com/dbt-labs/dbt-fusion/issues/550))
- [dbt-fusion] Add Semantic Manifest validation when running in platform

### Fixes

- [dbt-fusion] Bump Redshift driver to include datashare support via GetTableSchema
- [dbt-fusion] replace DashMap with scc:HashMap to stop deadlock

### Under the Hood

- [dbt-fusion] internal test framework

### Contributors
- [@aiguofer](https://github.com/aiguofer)
- [@serramatutu](https://github.com/serramatutu) ([#550](https://github.com/dbt-labs/dbt-fusion/issues/550))


## 2.0.0-preview.21 - September 18, 2025

### Fixes

- [dbt-extension] improved logic for identifying a dbt project
- [dbt-fusion] update qualified name usecase
- [dbt-fusion] Fix direction of Snowflake number/string coercion in comparisons

### Contributors
- [@emerson-paiva](https://github.com/emerson-paiva)


## 2.0.0-preview.20 - September 18, 2025

### Features

- [dbt-extension] add walkthrough progress to dbt getStarted sidebar ([#5495](https://github.com/dbt-labs/dbt-fusion/issues/5495))
- [dbt-fusion] (snowflake): add legacy configuration native catalog iceberg tables
- [dbt-fusion] Hydrate metrics in semantic manifest and manifest

### Fixes

- [dbt-fusion] Various fixes for datatype handling and column data types ([#729](https://github.com/dbt-labs/dbt-fusion/issues/729), [#572](https://github.com/dbt-labs/dbt-fusion/issues/572))
- [dbt-fusion] Fixes snapshot timestamps in source freshness ([#728](https://github.com/dbt-labs/dbt-fusion/issues/728))
- [dbt-fusion] Fix undefined node in resolve context and fix env_var only defaulting strings

### Under the Hood

- [dbt-fusion] Refactor defer and ensure `--inline` for compile actually respects static-analysis
- [internal] Added support of --state, --favor-state, --defer, --selector, --static-analysis, --resource_types flags for LSP
- [dbt-fusion] add cargo.toml check

### Contributors
- [@akbog](https://github.com/akbog)
- [@emerson-paiva](https://github.com/emerson-paiva) ([#5495](https://github.com/dbt-labs/dbt-fusion/issues/5495))
- [@jasonlin45](https://github.com/jasonlin45) ([#729](https://github.com/dbt-labs/dbt-fusion/issues/729), [#572](https://github.com/dbt-labs/dbt-fusion/issues/572), [#728](https://github.com/dbt-labs/dbt-fusion/issues/728))
- [@versusfacit](https://github.com/versusfacit)


## 2.0.0-preview.19 - September 17, 2025

### Fixes

- [dbt-fusion] Make UNPIVOT plan clearly non-executable
- [dbt-fusion] [BUG] Fusion doesn't pass profile-configured database/schema into the connection parameters ([#140](https://github.com/dbt-labs/dbt-fusion/issues/140))
- [dbt-fusion] Fix persist_docs macro failure with empty comment ([#738](https://github.com/dbt-labs/dbt-fusion/issues/738))
- [dbt-fusion] Cache: Fixed docs macro files as input files 
- [dbt-fusion] Add tenant_hostname to dbt-cloud dictionary in dbt_project.yml ([#765](https://github.com/dbt-labs/dbt-fusion/issues/765))
- [dbt-fusion] Fix Databricks numeric literals and identifiers starting with a digit
- [dbt-fusion] Fix build_after causing SAO to deadlock

### Under the Hood

- [dbt-fusion] improve download_artifact.sh

### Contributors
- [@ajhlee-dbt](https://github.com/ajhlee-dbt) ([#738](https://github.com/dbt-labs/dbt-fusion/issues/738))


## 2.0.0-preview.18 - September 17, 2025

### Features

- [dbt-fusion] Implement deps command upgrade and lock options ([#51](https://github.com/dbt-labs/dbt-fusion/issues/51))
- [dbt-fusion] Support query-comment ([#20](https://github.com/dbt-labs/dbt-fusion/issues/20))
- [dbt-fusion] Support for agate.Table.select()

### Fixes

- [dbt-fusion] LSP: Fixed incremental compile for doc md files
- [dbt-fusion] Typechecking Databricks TABLE_CHANGES() ([#593](https://github.com/dbt-labs/dbt-fusion/issues/593))

### Under the Hood

- [dbt-fusion] Modify how columns are represented internally to improve adapters maintainability.

### Security

- [dbt-extension] Added bundled code signing signatures to allow for verification of extension

### Contributors
- [@ajhlee-dbt](https://github.com/ajhlee-dbt) ([#20](https://github.com/dbt-labs/dbt-fusion/issues/20))
- [@donicrosby](https://github.com/donicrosby)
- [@serramatutu](https://github.com/serramatutu)


## 2.0.0-preview.17 - September 16, 2025

### Features

- [dbt-extension] Highlights when the LSP is compiling and live error detection is paused ([##734](https://github.com/dbt-labs/dbt-fusion/issues/#734))
- [dbt-fusion] Renaming of rows in Agate tables

### Fixes

- [dbt-fusion] Fix Databricks UNPIVOT aliasing
- [dbt-fusion] Return correct result when computing Snowflake substring with negative numbers
- [dbt-fusion] Reject comma after Databricks select items clause ([#750](https://github.com/dbt-labs/dbt-fusion/issues/750))
- [dbt-fusion] Fix Snapshot FQN generation and support legacy configs. Configs now work between YML and SQL.

### Under the Hood

- [dbt-fusion] add download_artifact.sh
- [dbt-fusion] add logic and --app in download_artifact.sh

### Contributors
- [@jasonlin45](https://github.com/jasonlin45)


## 2.0.0-preview.16 - September 15, 2025

### Features

- [dbt-extension] add dbt extension walkthrough ([#5495](https://github.com/dbt-labs/dbt-fusion/issues/5495))

### Fixes

- [dbt-fusion] Use custom test name correctly ([#631](https://github.com/dbt-labs/dbt-fusion/issues/631))
- [dbt-fusion] Support `dbt system uninstall` on Windows. ([#673](https://github.com/dbt-labs/dbt-fusion/issues/673))
- [dbt-fusion] fix unit test replay
- [dbt-fusion] (dbt-auth): snowflake: we now detect 3des headerless keys for what they are and warn users to upgrade off legacy ciphers ([#717](https://github.com/dbt-labs/dbt-fusion/issues/717))
- [dbt-fusion] Reject comma after Redshift select items clause ([#751](https://github.com/dbt-labs/dbt-fusion/issues/751))
- [dbt-fusion] Only warn when can't download schmea instead of error

### Under the Hood

- [internal] Support rudimentary DDL in typechecking SLT for Databricks

### Contributors
- [@emerson-paiva](https://github.com/emerson-paiva) ([#5495](https://github.com/dbt-labs/dbt-fusion/issues/5495))
- [@versusfacit](https://github.com/versusfacit) ([#717](https://github.com/dbt-labs/dbt-fusion/issues/717))


## 2.0.0-preview.15 - September 15, 2025

### Features

- [dbt-extension] Add "View extension logs" command to VS Code extension
- [dbt-fusion] Improved relation cache performance ([#5697](https://github.com/dbt-labs/dbt-fusion/issues/5697))

### Fixes

- [dbt-fusion] fix [BUG] Error when using persist_docs on BigQuery for models with arrays as columns ([#637](https://github.com/dbt-labs/dbt-fusion/issues/637))
- [dbt-fusion] Reject relation alias after Databricks PIVOT
- [dbt-fusion] fix bigquery in dialect shortcut
- [dbt-fusion] fuzzy compare timestamp

### Under the Hood

- [dbt-fusion] test infra work
- [internal] Introduce deviation registry for replay record matching
- [dbt-fusion] test infra work

### Contributors
- [@jasonlin45](https://github.com/jasonlin45) ([#5697](https://github.com/dbt-labs/dbt-fusion/issues/5697))
- [@milevin](https://github.com/milevin)


## 2.0.0-preview.14 - September 13, 2025

### Features

- [dbt-fusion] Improve state:modified conformance of fusion to dbt-core. Completes [#746](https://github.com/dbt-labs/dbt-fusion/issues/746).
- [dbt-fusion] Improve state:modified conformance of fusion to dbt-core. Completes [#746](https://github.com/dbt-labs/dbt-fusion/issues/746).
- [dbt-fusion] Hydrate semantic_models in manifest
- [dbt-fusion] Produce legible error when Snowflake date_trunc misused
- [dbt-fusion] Print previously installed Fusion version alongside the new version during system updates for easier troubleshooting. ([#538](https://github.com/dbt-labs/dbt-fusion/issues/538))
- [dbt-fusion] Support DBT_FULL_REFRESH

### Fixes

- [dbt-fusion] Render refs used in constraints in yaml configs ([##653](https://github.com/dbt-labs/dbt-fusion/issues/#653))
- [dbt-fusion] LSP: Fixed project-relevant files from not initiaiting a compile when they were not changed in an editor such as VSCode
- [dbt-fusion] Reject Snowflake explicit CAST to GEOGRAPHY, GEOMETRY
- [dbt-fusion] prefetch and merge snapshot schema
- [dbt-fusion] Implement row_names() for AgateTable and rows().keys() ([#687](https://github.com/dbt-labs/dbt-fusion/issues/687))
- [dbt-fusion] fix merge_snapshot_schema
- [dbt-fusion] Fix error not properly reported for test failures

### Under the Hood

- [dbt-fusion] Fix config changes always being detected
- [internal] Read ListRelationsWithoutCachingRecord in replay
- [internal] Better replay error messages
- [dbt-fusion] update test_regression_tests_internal_analytics_build_with_recording
- [dbt-fusion] add debug log for download publication failure
- [dbt-fusion] Fetch full catalog.json (temporary measure) and emit more logging

### Contributors
- [@ajhlee-dbt](https://github.com/ajhlee-dbt)
- [@jasonlin45](https://github.com/jasonlin45)
- [@lottaquestions](https://github.com/lottaquestions)


## 2.0.0-preview.13 - September 11, 2025

### Fixes

- [dbt-fusion] Fix for adding two tuples in jinja ([#636](https://github.com/dbt-labs/dbt-fusion/issues/636))
- [dbt-fusion] Reject field dereference in Snowflake compiler



## 2.0.0-preview.12 - September 10, 2025

### Features

- [dbt-extension] Add support for snapshots go to definition and rename (@dakota)
- [dbt-fusion] Semantic models in semantic manifest (@eddowh)
- [dbt-extension] Added a sidebar view to show important extension information and actions (@dakota)
- [dbt-fusion] Populate disabled nodes in manifest.json (@jzhu13)

### Fixes

- [dbt-fusion] Fix compute for Snowflake object literal not to return always NULL
- [dbt-fusion] Properly include resource type when serializing groups (@jzhu13)
- [dbt-fusion] Disabled source schema cache as there were some correctness issues
- [dbt-fusion] Fix extended model do not show up in list ([#5603](https://github.com/dbt-labs/dbt-fusion/issues/5603)) (@ChenyuLInx)
- [dbt-fusion] Fix catalog.json not being written out in prod (@jzhu13)
- [dbt-fusion] Fix compile of BigQuery nested struct literal with explicit type
- [dbt-fusion] Fix compile of BigQuery array of struct with explicit type

### Under the Hood

- [dbt-fusion] Add more context to error messages to help diagnose user errors easier (@versusfacit)
- [dbt-fusion] internal test framework (@milevin)
- [dbt-fusion] Avoid updating checksums for SLT records after halt

### Contributors
- [@milevin](https://github.com/milevin)
- [@versusfacit](https://github.com/versusfacit)


## 2.0.0-preview.11 - September 09, 2025

### Features

- [dbt-fusion] Compile Snowflake `get` with structured OBJECT

### Fixes

- [dbt-fusion] Fix handling of grant configs in dbt_project ([#672](https://github.com/dbt-labs/dbt-fusion/issues/672)) (@gshank)
- [dbt-fusion] Fix incorrect compute result for Snowflake `get(array, varchar)`
- [dbt-fusion] Reject query with comma trailing the WITH clause
- [internal] Filter ephemeral models from deferral consideration (@akbog)

### Under the Hood

- [internal] test infra work (@milevin)

### Contributors
- [@akbog](https://github.com/akbog)
- [@milevin](https://github.com/milevin)


## 2.0.0-preview.10 - September 09, 2025

### Features

- [dbt-fusion] Allow users to retry the parsing step during onboarding (@dakota)
- [dbt-fusion] Output Yaml location on test status line (@sadboy)
- [dbt-fusion] Add command to install drivers (@csquire)
- [dbt-fusion] Redshift IAM ([#4578](https://github.com/dbt-labs/dbt-fusion/issues/4578)) (@jasonlin45)
- [dbt-fusion] Compile Snowflake subscript with structured OBJECT ([#684](https://github.com/dbt-labs/dbt-fusion/issues/684))

### Fixes

- [dbt-fusion] Fixed sql splitting to filter comment only statements ([#468](https://github.com/dbt-labs/dbt-fusion/issues/468)) (@dbtagarovat)
- [dbt-fusion] LSP: Fixed schema files not taking into account newly added dependents"
- [dbt-fusion] Fix downloaded defer manifest in zip format ([#689](https://github.com/dbt-labs/dbt-fusion/issues/689)) (@ChenyuLInx)
- [dbt-fusion] Compile Databricks `map_values` function ([#699](https://github.com/dbt-labs/dbt-fusion/issues/699)) (@findepi)
- [dbt-fusion] Compile Databricks rank with arguments ([#700](https://github.com/dbt-labs/dbt-fusion/issues/700)) (@findepi)
- [dbt-fusion] Compile Databricks bit shift by bigint value ([#702](https://github.com/dbt-labs/dbt-fusion/issues/702)) (@findepi)
- [dbt-fusion] Compile Databricks struct subscript with string literal ([#701](https://github.com/dbt-labs/dbt-fusion/issues/701)) (@findepi)
- [dbt-fusion] fix 625 [BUG] {{ Column.dtype }} returns NUMBER(<scale>, <precision>) instead of NUMBER ([#625](https://github.com/dbt-labs/dbt-fusion/issues/625)) (@zoltanersek)
- [dbt-fusion] Cache: Storing external schemas to disk to be used as a cache
- [dbt-fusion] Show a error message when fusion requires a project dir but can't find it ([#696](https://github.com/dbt-labs/dbt-fusion/issues/696)) (@mishamsk)
- [dbt-fusion] Fix empty schema in Redshift being cached ([#707](https://github.com/dbt-labs/dbt-fusion/issues/707)) (@jasonlin45)
- [dbt-fusion] Fix Snowflake parse rule for backtick identifiers
- [dbt-fusion] Fix Snowflake structured object type construct field case sensitivity
- [dbt-extension] Allow users to clean their auth state or select a project when dbt_cloud.yml was changed ([#709](https://github.com/dbt-labs/dbt-fusion/issues/709)) (@emerson-paiva)
- [dbt-fusion] Reintroduce a legacy --models command (alias) ([#710](https://github.com/dbt-labs/dbt-fusion/issues/710)) (@MartinNeupauer)
- [dbt-fusion] LSP: Fixed profiles.yml, dependencies.yml, packages.yml and package-lock.yml from not recompiling the project
- [dbt-fusion] fix test selection criteria (@wizardxz)
- [internal] Redshift password alias ([#5576](https://github.com/dbt-labs/dbt-fusion/issues/5576)) (@jasonlin45)

### Under the Hood

- [dbt-fusion] Issue create schema only for selected nodes ([#626](https://github.com/dbt-labs/dbt-fusion/issues/626)) (@ajhlee-dbt)
- [dbt-fusion] Fix streaming table macros (@ajhlee-dbt)
- [dbt-fusion] fix replay engine (@wizardxz)
- [internal] get_relation calls as a subset for record/replay (@jasonlin45)
- [dbt-fusion] Jinja: switch to order-preserving maps (@sadboy)
- [dbt-fusion] Ensure that the latest version of autofix is run if possible (@dakota)

### Contributors
- [@ajhlee-dbt](https://github.com/ajhlee-dbt) ([#626](https://github.com/dbt-labs/dbt-fusion/issues/626))
- [@csquire](https://github.com/csquire)
- [@dbtagarovat](https://github.com/dbtagarovat) ([#468](https://github.com/dbt-labs/dbt-fusion/issues/468))
- [@emerson-paiva](https://github.com/emerson-paiva) ([#709](https://github.com/dbt-labs/dbt-fusion/issues/709))
- [@jasonlin45](https://github.com/jasonlin45) ([#4578](https://github.com/dbt-labs/dbt-fusion/issues/4578), [#707](https://github.com/dbt-labs/dbt-fusion/issues/707), [#5576](https://github.com/dbt-labs/dbt-fusion/issues/5576))


## 2.0.0-preview.9 - September 05, 2025

### Features

- [dbt-extension] Add a setting to toggle deferral on and off in the dbt vscode extension ([#398](https://github.com/dbt-labs/dbt-fusion/issues/398)) (@drewbanin)
- [dbt-fusion] Add groups and group_map to manifest (@jzhu13)
- [dbt-fusion] Custom Materializations ([##2736](https://github.com/dbt-labs/dbt-fusion/issues/#2736)) (@venkaa28)
- [dbt-fusion] Ensure sources and snapshots are included in catalog.json generation (@jzhu13)

### Fixes

- [dbt-fusion] Render booleans as True/False instead of true/false ([#581](https://github.com/dbt-labs/dbt-fusion/issues/581)) (@fornwall)
- [dbt-fusion] Make modules.re methods accept an already compiled pattern
- [dbt-fusion] Autofix jaffle_shop project generated by dbt init for compliance with strict spec (@jtcohen6)
- [dbt-fusion] revert to threadlocal (@wizardxz)
- [dbt-fusion] Fix versioned columns ([#595](https://github.com/dbt-labs/dbt-fusion/issues/595)) (@MartinNeupauer)
- [dbt-fusion] Fix DROP TABLE always running for Databricks when materializing table ([#634](https://github.com/dbt-labs/dbt-fusion/issues/634)) (@ajhlee-dbt)
- [dbt-fusion] Fix SQL quoting errors for listing relations ([#542](https://github.com/dbt-labs/dbt-fusion/issues/542)) (@ajhlee-dbt)
- [dbt-fusion] Release new snowflake driver. Lots of auth fixes plus some flakey test fixes. (@versusfacit)

### Under the Hood

- [internal] Update to DataFusion 48.0.1 and Arrow 55.1.0 (@findpei)
- [dbt-fusion] (dbt-adapter) bigquery: Use ipc as bytes directly. Remove base64 encode bloat. (@versusfacit)
- [internal] Fuzzy matching for get_relation in replay adapter (@jasonlin45)

### Contributors
- [@ajhlee-dbt](https://github.com/ajhlee-dbt) ([#634](https://github.com/dbt-labs/dbt-fusion/issues/634), [#542](https://github.com/dbt-labs/dbt-fusion/issues/542))
- [@findpei](https://github.com/findpei)
- [@fornwall](https://github.com/fornwall) ([#581](https://github.com/dbt-labs/dbt-fusion/issues/581))
- [@jasonlin45](https://github.com/jasonlin45)
- [@versusfacit](https://github.com/versusfacit)


## 2.0.0-preview.8 - September 04, 2025

### Features

- [dbt-fusion] Implement catalog.json generation for Bigquery (@jzhu13)
- [dbt-fusion] Implement catalog.json generation for Redshift (@jzhu13)
- [dbt-fusion] Implement catalog.json generation for Postgres adapter (@jzhu13)
- [dbt-fusion] Implement catalog.json generation for databricks (@jzhu13)
- [dbt-fusion] Add materialized view materialization for databricks ([#548](https://github.com/dbt-labs/dbt-fusion/issues/548)) (@danielacraciun)
- [dbt-fusion] Support `target_database` and `target_schema` in snapshot configs ([#580](https://github.com/dbt-labs/dbt-fusion/issues/580)) (@serramatutu)
- [dbt-fusion] Add ability to pass invocation id via cli argument `--invocation-id` or env var `DBT_INVOCATION_ID` (@mishamsk)
- [dbt-fusion] Saved queries in manifest and semantic manifest (@eddowh)

### Fixes

- [dbt-fusion] `parent_map` and `child_map` are now correctly populated (#499) ([#499](https://github.com/dbt-labs/dbt-fusion/issues/499)) (@stevenayers)
- [dbt-fusion] Implement rendering modules.re.Match objects (@fornwall)
- [dbt-fusion] Make the timedelta.total_seconds() method work
- [dbt-fusion] Get exposures selector working ([#4744](https://github.com/dbt-labs/dbt-fusion/issues/4744)) (@gshank)
- [dbt-fusion] Improved typechecking of some JSON-accepting functions in BigQuery
- [dbt-fusion] Fix for `dbt test` with deferred state ([#607](https://github.com/dbt-labs/dbt-fusion/issues/607)) (@akbog)
- [dbt-fusion] LSP+Cache: Schema file dependents are properly considered
- [dbt-fusion] Fix Agate flattening of doubly-nested Arrow types (@felipecrv)
- [internal] Fix processing versioned selectors ([#590](https://github.com/dbt-labs/dbt-fusion/issues/590)) (@MartinNeupauer)
- [dbt-fusion] LSP: Fixed 'ref' error when using an existing 'ref' that wasn't used before in a file
- [dbt-fusion] add unittest error message ([#523](https://github.com/dbt-labs/dbt-fusion/issues/523)) (@wizardxz)
- [dbt-fusion] fix DbtReplayAdapter.convert_type (@wizardxz)
- [dbt-fusion] fix salesforce adapter convert_type_inner (@wizardxz)
- [dbt-fusion] LSP: Fixed column completions from not showing up after incremental compile
- [dbt-fusion] Correctly reject qualified column references after set operation such as UNION (@findepi)
- [dbt-fusion] fix 632 [BUG] dbt show queries not appearing within logs/query_log.sql ([#632](https://github.com/dbt-labs/dbt-fusion/issues/632)) (@zoltanersek)
- [dbt-fusion] Fixed dbt init failing to parse large project ids ([#638](https://github.com/dbt-labs/dbt-fusion/issues/638)) (@olehpidhi)
- [dbt-extension] Clarify message when dbt Fusion installation can not be found. ([#5393](https://github.com/dbt-labs/dbt-fusion/issues/5393)) (@emerson-paiva)
- [dbt-fusion] Fix user facing config serialization (@ChenyuLInx)
- [dbt-fusion] Fix doc macro original_file_path_pnode_conversion (@ChenyuLInx)
- [dbt-fusion] Don't require project/database in BigQuery config ([#566](https://github.com/dbt-labs/dbt-fusion/issues/566)) (@felipecrv)

### Under the Hood

- [dbt-fusion] Move need_quotes to AdapterType
- [dbt-fusion] Better driver discovery. Better makefile integration. Better driver ergonomics.
- [dbt-fusion] Use catalog macros to generate catalog.json
- [dbt-fusion] add extract-sources subcommand (@wizardxz)
- [dbt-fusion] Stubs for populating metrics in manifest and semantic_manifest (@eddowh)
- [dbt-fusion] implement inline source replay (@wizardxz)
- [dbt-fusion] [Redshift] Relation cache pre-hydration (@ajhlee-dbt)
- [dbt-fusion] Stubs for semantic models in manifest and semantic manifest (@eddowh)
- [dbt-fusion] Minor refactor/cleanup of adapter code (@jzhu13)
- [dbt-fusion] Only include nodes with catalog info in the catalog.json (@jzhu13)
- [dbt-fusion] Fix SLT's SnowflakeExe dropping all data (@findepi)
- [dbt-fusion] Bump BigQuery driver and swap Redshift driver ([#4578](https://github.com/dbt-labs/dbt-fusion/issues/4578)) (@ajhlee-dbt)
- [dbt-fusion] Define new semantic resources spec in dbt_schemas::properties (@eddowh)

### Contributors
- [@ajhlee-dbt](https://github.com/ajhlee-dbt) ([#4578](https://github.com/dbt-labs/dbt-fusion/issues/4578))
- [@akbog](https://github.com/akbog) ([#607](https://github.com/dbt-labs/dbt-fusion/issues/607))
- [@emerson-paiva](https://github.com/emerson-paiva) ([#5393](https://github.com/dbt-labs/dbt-fusion/issues/5393))
- [@fornwall](https://github.com/fornwall)
- [@serramatutu](https://github.com/serramatutu) ([#580](https://github.com/dbt-labs/dbt-fusion/issues/580))
- [@stevenayers](https://github.com/stevenayers) ([#499](https://github.com/dbt-labs/dbt-fusion/issues/499))


## 2.0.0-preview.7 - August 28, 2025

### Features

- [dbt-fusion] Add support to multi-git-provider in native Private Package.
- [dbt-fusion] Use defer_env_id when fetching deferral artifacts ([#619](https://github.com/dbt-labs/dbt-fusion/issues/619)) (@ericbaumann)
- [dbt-extension] Automatically focus the Get Started sidebar after install (@davidharting)
- [dbt-fusion] Write semantic manifest legacy json artifact (@eddowh)

### Fixes

- [internal] Enable test caching for unit tests: part 2
- [dbt-fusion] LSP: Invalidate LSP results on non-recoverable errors
- [dbt-fusion] LSP: Fixed lineage results after incremental compile
- [dbt-fusion] Fix missing 'account-host' ([#612](https://github.com/dbt-labs/dbt-fusion/issues/612)) (@MartinNeupauer)
- [dbt-fusion] Fix extra CREATE SCHEMA queries ([#500](https://github.com/dbt-labs/dbt-fusion/issues/500)) (@ajhlee-dbt)
- [dbt-fusion] Ensure model-level metas take precedence over project-level metas. ([#578](https://github.com/dbt-labs/dbt-fusion/issues/578)) (@lottaquestions)
- [dbt-fusion] Ensure model-level metas take precedence over project-level metas. ([#578](https://github.com/dbt-labs/dbt-fusion/issues/578)) (@lottaquestions)

### Under the Hood

- [dbt-fusion] Use catalog macros to generate catalog.json (@jzhu13)
- [dbt-fusion] Implement needs_quotes using only adapter and XDBC code (@jzhu13)
- [dbt-fusion] Rely on schema when editing profiles.yaml (@olehpidhi)
- [dbt-fusion] compare sql in adapter AddQueryRecord ([#5347](https://github.com/dbt-labs/dbt-fusion/issues/5347)) (@wizardxz)
- [dbt-fusion] host/protocol/port support for Snowflake (@jasonlin45)
- [dbt-fusion] Fix test output for "Unused keys in profiles.yml" (@gshank)

### Contributors
- [@ajhlee-dbt](https://github.com/ajhlee-dbt) ([#500](https://github.com/dbt-labs/dbt-fusion/issues/500))
- [@davidharting](https://github.com/davidharting)
- [@eddowh](https://github.com/eddowh)
- [@ericbaumann](https://github.com/ericbaumann) ([#619](https://github.com/dbt-labs/dbt-fusion/issues/619))
- [@jzhu13](https://github.com/jzhu13)
- [@lottaquestions](https://github.com/lottaquestions) ([#578](https://github.com/dbt-labs/dbt-fusion/issues/578), [#578](https://github.com/dbt-labs/dbt-fusion/issues/578))


## dbt-fusion 2.0.0-preview.6 - August 25, 2025

### Features

- [Snowflake] Snowflake-Managed Dynamic Tables Support
- compare sql in DbtReplay engine

### Fixes

- Fix multi primary key snapshots
- Fixes unit test status

### Under the Hood

- Test infra work

## dbt extension 2.0.0-preview.6 - August 25, 2025

### Under the Hood

- Relation cache persistence in LSP

## Internal 2.0.0-preview.6 - August 25, 2025

### Features

- Enable state-aware orchestration (SAO) for unit tests
- compare sql in DbtReplay engine

### Fixes

- Ignore errors from parquet serde

### Under the Hood

- Add dynamic tables materialization option
- Internal test infra improvements
- internal test infra work


## dbt-fusion 2.0.0-preview.5 - August 22, 2025

### Features

- Issue package deprecation warnings in deps

### Fixes

- Allow `context.get("key", default)` without panicking
- fix error locations
- Fixed profile lookup not respecting urls in dbt_cloud.yaml

## dbt extension 2.0.0-preview.5 - August 22, 2025

## Internal 2.0.0-preview.5 - August 22, 2025

### Fixes

- Typechecking of Databricks LISTAGG


## dbt-fusion 2.0.0-preview.4 - August 21, 2025

### Features

- [adapters][databricks] Implemented required relation configs and changesets for streaming tables"
- dbt ignore & warn on python models

### Fixes

- fix schemas, database_schemas, and add node to run_result in jinja context in on-run-end
- Ensure log and target folder paths are correctly resolved as relative to --project-dir unless absolute paths are provided with --log-path or --target-path
- Remove noisy 'ADBC error: Internal:' and 'ADBC error: Unknown:' from messages 
- Do not show skipped node status for compile unless debug flag is set
- add error location in depends on 

### Under the Hood

- [adapters][databricks] Using the __attrs__ fields for relation config implementations, avoiding deprecated_config, added schedule to schema and persist_docs
- Only hydrate caches for selected nodes

## dbt extension 2.0.0-preview.4 - August 21, 2025

### Features

- enable Get Started to all users
- add ref and source snippets

## Internal 2.0.0-preview.4 - August 21, 2025

### Fixes

- fix schemas, database_schemas, and add node to run_result in jinja context in on-run-end
- Ensure log and target folder paths are correctly resolved as relative to --project-dir unless absolute paths are provided with --log-path or --target-path
- Do not show skipped node status for compile unless debug flag is set
- fix parquet deserialization for dbt test losing path
- add error location in depends on
- Fixes num threads default 1 issue on preview release

### Under the Hood

- Added field to warehouse specific deserialization


## dbt-fusion 2.0.0-preview.3 - August 19, 2025

### Features

- Turn strict parsing on by default for running project
- Add deps detection for schema compatibility

### Fixes

- Add better support for windows installs
- Fix is_cte variable


## dbt-fusion 2.0.0-preview.1 - August 18, 2025

### Features

- Deps command issues installing message for each package
- support goto_def for source()
- Added hints based on existing profiles when running dbt init
- Compatibility warnings from dependencies will now be grouped as a single message per package; use --show-all-deprecations to display every individual warnin
- Add ability to fetch catalog info from warehouse for Snowflake
- Support namespace in type-checking; Add typecheck LSP
- Upgrade lsp to use channels instead of locking
- [ada
- [adapters][databricks][incremental] Implemented constraints for relation config changeset
- Add legal project name check to `dbt init` command.
- Added connection and credentilas lookup in dbt cloud when running dbt init
- New logging

### Fixes

- Fix null type conversion to match Python Agate and Core behavior. Null will now be converted to a number type, allowing seeding with an empty column.
- (dbt-auth): fix keypair across the board with more sophisticated parsing, error handling, detection, and recovery routines.
- Add a stub config for MSSQL
- Fix fqn generation and retrieval of project configs
- Allow rejection of duplicate test names with an error message similar to dbt core.
- Fix skipping hydrate on full compile
- Support Google Sheets and Google Cloud Storage external sources
- Windows: fix cli hang on exit
- Make modules.re.match() return a truthy value on a match
- Special handling of the 'execute' context variable
- Exclude system info_schema from AS JSON

### Under the Hood

- Use serde yml in schema files
- Demand caching of externalbrowser tokens. Do not rely on gosnowflake's promotion logic.
- Fancy logging for relation cache
- correctly use untagged enum macro
- Migrating from using serde_json to dbt_serde_yaml
- bump gosnowflake to include new v1.14.3 mfa and sso fixes caching.
- (fix adapters/bigquery) fix compile referencing time partitioning sources
- Add Databricks to RelationType conversion
- refactor return
- Fix return in type-check
- Adjusted deserialization logic for warehouse specific configs
- Use relation cache in defer


## dbt-fusion 2.0.0-beta.63 - August 11, 2025

### Features

- Adds a relation cache to reduce repeat get_relation calls
- Support cancelling commands with Ctrl+C
- [adapters] [databricks] [incremental] #4856 column comments changesets and tests
- Move to streaming diagnostics from the LSP

### Fixes

- Fix original file path location for operations
- Fix duplicate sub path in original path
- fix run operation stacktrace
- Fix static-analysis propagation across sources and tests

### Under the Hood

- project and dataset aliases for bigquery
- Internal testing infrastructure work

### Dependencies

- Driver bump for Postgres and Bigquery. Fixes empty record issue in Bigquery and static linking issues for Redshift/Postgres.


## dbt-fusion 2.0.0-beta.61 - August 08, 2025

### Features

- Begin writing catalog.json

### Fixes

- fix error location for dispatch call
- Respect `location` configuration in BigQuery
- Make env_var produce better error message and validate parameters more strictly
- fix caller with return
- (fix adapters/snowflake) bring back `database` to connection creations
- Correctly report unknown method errors on undefined values
- (fix adapters/snowflake) seed binary data
- Introduce VarProvider and to_dict() method

### Under the Hood

- profile.yml processing is now source-available
- Relax generic test json schema/structs
- Enable connect_timeout in snowflake profiles.

## dbt extension 2.0.0-beta.61 - August 08, 2025

### Features

- Show a more helpful error message when authentication fails because the dbt_cloud.yml file is removed
- Showing column names when the query returns empty results
- dbt Output now shows dbt command history
- Goto definition for columns takes you to origin omitting "*" references

### Fixes

- Disallow previewing sql files that live outside of an open dbt project

## Internal 2.0.0-beta.61 - August 08, 2025

### Breaking Changes

- Incremental tasks: Always start computation at frontier of the selected nodes

### Features

- Initial stub for catalog.json generation
- Execute Snowflake rank window function
- Goto definition takes user to column origin skipping "*" references
- Execute Snowflake md5_binary function

### Fixes

- Fixes lineage for aliased models
- Respect `location` configuration in BigQuery
- Fix compiling of try_to_timestamp_ntz, try_to_timestamp_tz on Utf8View
- Fix run-operation unqualified macro lookup
- Fix Snowflake SQL compiler Utf8View handling
- [Databricks] Support for maps in dereference binding context (dot notation)
- Support ORDER BY ordinal within BigQuery QUALIFY
- [adapter][databricks] fix [BUG] quoting for sources isn't taken in account for Databricks
- Compile ai_complete, to_file, prompt functions

### Under the Hood

- Housekeeping


## dbt-fusion 2.0.0-beta.58 - August 05, 2025

### Fixes

- Detect safe introspection when accessing adapter methods through the 'dbt' namespace

### Under the Hood

- add builtins.sdf.yml       
- re-enable minijina tests
- (adapter/bigquery) support downloading schemas for information schema views

## dbt extension 2.0.0-beta.58 - August 05, 2025

### Features

- improve tooltip text when hovering over a column alias

## Internal 2.0.0-beta.58 - August 05, 2025

### Features

- show_alias_multiple_sources

### Fixes

- Fix stub functions equality/hash
- reverts skipping view

### Under the Hood

- Remove obsolete code from BuiltinFunctionScope
- add builtins.sdf.yml
- re-enable minijinja tests
- lazy flat graph
- (adapter/bigquery) support downloading schemas for information schema views


## dbt-fusion 2.0.0-beta.56 - August 01, 2025

### Features

- [Redshift] Materialized View Support
- New Anchors field in properties file to support yaml anchors w/o unused key warnings
- [Redshift] Redshift available in dbt init
- support --sample and --empty flags
- Add support for model level data tests

### Fixes

- fix jinja stacktrace
- Fixes Snowflake `profiles.yml` requiring `warehouse` key. It is now optional.
- Install jq if it's not installed already in the install script for unix

### Under the Hood

- Update golden files for tests with generic tests whose naming convention changed with conformance to dbt-core
- Better error messages for redshift IAM auth (not supported yet)

## dbt extension 2.0.0-beta.56 - August 01, 2025

### Features

- Add ability to clear cache, and refresh source schema cache

### Fixes

- fix jinja stacktrace

## Internal 2.0.0-beta.56 - August 01, 2025

### Features

- [Redshift] Materialized View Support
- Implement dbt clone
- support --sample and --empty flags
- Add support for model level data tests

### Fixes

- Conform test node unique id to dbt-core.
- Fixed jinja macros filtering when typing a package name
- LSP: Fixed some diagnostics from not being reported
- fix jinja stacktrace
- fixes freshness warning on models
- Fix model hash

### Under the Hood

- Test Generation: Support for NULLs
- Dedupe a chain call when building manifest


## dbt-fusion 2.0.0-beta.55 - July 30, 2025

## dbt extension 2.0.0-beta.55 - July 30, 2025

## Internal 2.0.0-beta.55 - July 30, 2025


## dbt-fusion 2.0.0-beta.54 - July 30, 2025

### Fixes

- Avoid printing debug messages when executing sql (this time for real)

## dbt extension 2.0.0-beta.54 - July 30, 2025

## Internal 2.0.0-beta.54 - July 30, 2025

### Fixes

- Avoid printing debug messages when executing sql (this time for real)


## dbt-fusion 2.0.0-beta.52 - July 29, 2025

### Breaking Changes

- Update Custom and Alternate Generic Tests to use Arguments for any jinja args

### Features

- Implement yaml exposures

### Fixes

- Fix the output formats of tojson and toyaml
- Avoid printing debug messages when executing sql

## dbt extension 2.0.0-beta.52 - July 29, 2025

### Features

- Provide clearer error message when we cannot download the LSP due to networking issues

## Internal 2.0.0-beta.52 - July 29, 2025

### Features

- Implement yaml exposures

### Fixes

- Add support for compiling/sql understanding of load_xml in DBX
- Avoid printing debug messages when executing sql

### Under the Hood

- Test Generation: Fix for schema mismatch


## dbt-fusion 2.0.0-beta.51 - July 28, 2025

### Features

- Add support for snowflake ignore case
- Messages describing type mismatch for functions implemented using ArgsIter

### Fixes

- Remove unused 'patterned_dangling_sources' logic + command line flag
- Support Selector, Name, and Path output for list
- (fix adapter) skip adding a parse relation
- Fix updates_on configuration for model freshness
- Update cargo toml to include md5 crate and update generic test unit tests.
- Fix crash when calling count/index for tuples from Agate tables (e.g. column names)
- Allow hours, minutes and seconds format codes in strftime() on a date
- Make re.sub() support python style backslash backreferences

### Under the Hood

- Clean up some messages

## dbt extension 2.0.0-beta.51 - July 28, 2025

### Fixes

- VSCE: Fixed Lineage panel loading message from not appearing sometimes

## Internal 2.0.0-beta.51 - July 28, 2025

### Features

- Add support for snowflake ignore case
- Improve model freshness logging details 
- Write new columns.parquet metadata file
- Skip building model views when there is no code change

### Fixes

- Remove unused 'patterned_dangling_sources' logic + command line flag
- LSP: Fixed duplicate errors
- Eliminate remote calls when running local unit tests
- LSP: Improved peak memory usage by computing column lineage on-demand
- Fix updates_on configuration for model freshness
- Conform generic naming strategy to dbt core
- LSP: Empty diagnostics on speculative compile for file if no diagnostics found
- Support try_parse_json function in dbx

### Under the Hood

- Adding concolic extention to test-generation
- Case-when expr handling in projections and filters for test generation
- Adding support for simple-case-when expression for test-generation
- Fixing coverage for simple-case expressions where the CASE clause can evaluate to non-booleans
- Extending support for MEAN, AVG, MAX, MIN and MEDIAN aggregation operations for test generation
- Avoid starting vortex client if no-anonymized-logging option is specified
- Test Generation: Add support for Time32 and Time64


## dbt-fusion 2.0.0-beta.49 - July 25, 2025

### Under the Hood

- fix jinja type check

## dbt extension 2.0.0-beta.49 - July 25, 2025

### Features

- Compile File now saves the document so that the compiled preview reflects the current state of the editor
- improve Query Results error messages

## Internal 2.0.0-beta.49 - July 25, 2025

### Features

- (adapter/snowflake) support base64 encoded private key format

### Fixes

- Ensure an invocation event is logged at least once for every command
- max_loaded_at will assume utc if ntz is provided

### Under the Hood

- Adding concolic extention to test-generation
- Case-when expr handling in projections and filters for test generation
- fix jinja type check
- adapter (redshift): add get column schema from query method
- Write atomically in SLT update


## dbt-fusion 2.0.0-beta.48 - July 23, 2025

### Fixes

- Don't display internal qualifiers in error messages
- Make StaticBaseRelation more robust if 'primary_key' is missing
- Serialize complete freshness definition if partially defined
- add support for LIKE SOME/ANY/ALL in databricks dialect

### Under the Hood

- Cleanup some function args and types

## dbt extension 2.0.0-beta.48 - July 23, 2025

### Fixes

- Fix for issue downloading language server binary on some windows machines
- Fixed issue where files in the dbt vs code extension weren't being watched correctly on windows

## Internal 2.0.0-beta.48 - July 23, 2025

### Breaking Changes

- Improve type checks in calculate_freshness_common

### Features

- Add resolve time cache logic
- [Redshift] List schemas
- Execute Snowflake ifnull() function
- Enable source freshness for Redshift

### Fixes

- Don't display internal qualifiers in error messages
- databricks_window_specification
- Fix compilation of Databricks SQL that uses `avg` or `mean` over timestamp values
- add support for LIKE SOME/ANY/ALL in databricks dialect
- fix bigquery information schema
- Fix freshness timestamp scaling and better error messages
- Fix freshness when timestamps do not have a timezone

### Under the Hood

- Set 'static_analysis=unsafe' automatically when unsafe detected
- cargo xtask fmt to format after codegen


## dbt-fusion 2.0.0-beta.46 - July 22, 2025

### Fixes

- (fix adapter/bigquery) support time_ingestion_partitioning partition_by config

### Under the Hood

- refactor jinja type check

## dbt extension 2.0.0-beta.46 - July 22, 2025

## Internal 2.0.0-beta.46 - July 22, 2025

### Features

- Support variable time zone in Snowflake convert_timezone funciton
- [Snowflake] Add support for s3_stage_vpce_dns_name

### Fixes

- Fix compilation of Databricks DECODE with many parameters
- Correct and improve Databricks implicit alias generation
- Correct result of concat when called with NULL
- Remove Snowflake md5_number function
- (fix adapter/bigquery) support time_ingestion_partitioning partition_by config

### Under the Hood

- fix codegen


## dbt-fusion 2.0.0-beta.45 - July 22, 2025

### Features

- Add support for 'as_text' on dynObject
- Performance improvements with cloning jinja and manifest serialization fix
- [Redshift] Metadata queries
- Implement ref restrictions based on access modifiers model
- Support the default execution timezone setting

### Fixes

- Change Snowflake auth concurrency control to avoid spamming users with too many tabs for externalbrowserauth
- fix model reference
- Enable render method for Big Query PartitionConfig
- [Redshift] Fix installation and URI handling for login
- [Adapters] Match core type translation
- support python negative step slice
- Fix message to mention that limit -1 needs to be used to remove limits for show
- Fix a bug in typecheck when breaking loop

### Under the Hood

- (adapter/databricks) Improve source schemas download logics
- (adapter) refactor get_column_values to not panic
-  (fix adapter/bigquery) BQ allows multi-stmt sql
- fix jinja type checking

## dbt extension 2.0.0-beta.45 - July 22, 2025

### Fixes

- fix model reference

### Under the Hood

- fix jinja type checking

## Internal 2.0.0-beta.45 - July 22, 2025

### Features

- Performance improvements with cloning jinja and manifest serialization fix
- Support VARIANT varchar to TIMESTAMP_TZ cast
- Support VARIANT timestamp to TIMESTAMP_TZ cast
- Execute convert_timezone with TIMESTAMP_NTZ and TIMESTAMP_LTZ
- Added targets for droptable and dropview in sdf frontend

### Fixes

- Block likely incorrect casts involving distinct types
- Support Z zone in VARCHAR to TIMESTAMP_NTZ cast
- Fix semantics of VARIANT varchar to TIMESTAMP_LTZ cast
- fix model reference
- Enable render method for Big Query PartitionConfig
- support bigquery 4-part information schema table
- [Redshift] Non-canonical type conversions for timestamp and time
- Fix parsing of Snowflake number followed by next token without a whitespace delimiter
- Fix semantics of VARCHAR to BINARY cast
- Fix compile failure for Snowflake NUMBER type constructor
- Fix message to mention that limit -1 needs to be used to remove limits for show
- Fix a bug in typecheck when breaking loop

### Under the Hood

- (adapter/databricks) Improve source schemas download logics
- Changes to the internal test framework
- (adapter) refactor get_column_values to not panic
- Enable more timestamp to varchar tests
- Test cast from VARCHAR to DATE
- Remove unnecessary custom binders for Snowflake to_date, to_time
- (fix adapter/bigquery) BQ allows multi-stmt sql
- Local mode unit test fixes
- fix jinja type checking


## dbt-fusion 2.0.0-beta.44 - July 18, 2025

### Features

- Freshness on view w/o loaded_at_field warns about missing loaded_at_field.
- Update to cargo edition 2024

### Fixes

- Add ceil and floor methods for the round Jinja filter
- [Bigquery] Change Change bigquery job_*_seconds types from string to int
- Fix thread_id in run_result
- Fix jinja inconsistency for list.append and filter behavior for undefined
- apply project level configs to sources correctly

### Under the Hood

- chore: Make test utilities source available"
- (adapter/snowflake) download UDFs, register then compile
- Fix offset_window type in jsonschemas

## dbt extension 2.0.0-beta.44 - July 18, 2025

## Internal 2.0.0-beta.44 - July 18, 2025

### Features

- Execute TIMESTAMP_TZ to TIMESTAMP_TZ cast
- Execute to_varchar(TIMESTAMP_TZ) function
- Update to cargo edition 2024
- Refactor task graph initialize & ensure tasks time out

### Fixes

- Fix semantics of VARIANT to TIMESTAMP_NTZ cast

### Under the Hood

- (adapter/snowflake) download UDFs, register then compile
- rename, update function assets, update tests
- Add binding context for drop statements


## dbt-fusion 2.0.0-beta.43 - July 16, 2025

### Features

- Support overriding the dbt package hub url using DBT_PACKAGE_HUB_URL

## dbt extension 2.0.0-beta.43 - July 16, 2025

## Internal 2.0.0-beta.43 - July 16, 2025

### Fixes

- Fixed unit tests not being filtered out correctly in sorted nodes
- uses Redis hash tags for multi-key operations


## dbt-fusion 2.0.0-beta.42 - July 16, 2025

### Fixes

- Fix handling of some command line flags

## dbt extension 2.0.0-beta.42 - July 16, 2025

### Fixes

- Improve error messages when unable to verify dbt Cloud PAT

## Internal 2.0.0-beta.42 - July 16, 2025

### Features

- Execute Snowflake min/max of TIMESTAMP_NTZ, TIMESTAMP_LTZ
- Support more casts from/to timestamp types

### Fixes

- Fix certain casts from/to timestamp types
- Fix handling of some command line flags
- Fix Snowflake compile for windowed ordered array_agg

### Under the Hood

- Included errors list into compile completion notification
- file read bug in build cache


## dbt-fusion 2.0.0-beta.41 - July 16, 2025

### Features

- Add build_after.updates_on support (dbt-labs/fs#4412) - dbt-labs/fs#3818

### Fixes

- Rename indent filter parameters (dbt-labs/fs#4389) - dbt-labs/dbt-fusion#379
- Allow profile environment variables to accept keyword arguments (dbt-labs/fs#4230) - dbt-labs/dbt-fusion#277
- The order of parsing positional arguments is important. Follow the same order as python (dbt-labs/fs#4463)
- support case insensitive bool for minijinja args (dbt-labs/fs#4462)

### Under the Hood

- (update adapter) allow access Config keys (dbt-labs/fs#4407)
- Cleanup some function args and types (dbt-labs/fs#4455)

## dbt extension 2.0.0-beta.41 - July 16, 2025

## Internal 2.0.0-beta.41 - July 16, 2025

### Features

- Add build_after.updates_on support (dbt-labs/fs#4412) - dbt-labs/fs#3818
- Add resolve time cache logic (dbt-labs/fs#4455)

### Fixes

- Fix task graph filtering out non-selected / frontier nodes (dbt-labs/fs#4467)

### Under the Hood

- (update adapter/bigquery) use tagged Enum, and remove the redundant BigQueryAuthMethod; fix `dataproc_batch` deser error (dbt-labs/fs#4407)
- Add test for bugfix: Allow profile environment variables to accept keyword arguments (dbt-labs/fs#4230) - dbt-labs/dbt-fusion#277


## dbt-fusion 2.0.0-beta.40 - July 15, 2025

### Fixes

- Unit tests search for fixtures recurively (dbt-labs/fs#4435) - dbt-labs/dbt-fusion#362
- Fix source always considered fresh (dbt-labs/fs#4447)

## dbt extension 2.0.0-beta.40 - July 15, 2025

### Fixes

- Handle errors starting a local auth server during web registration (dbt-labs/fs#4440) - dbt-labs/dbt-fusion#202

## Internal 2.0.0-beta.40 - July 15, 2025

### Features

- Execute TIMESTAMP_TZ ‚Üî VARIANT casts (dbt-labs/fs#4424)
- Execute Snowflake try_to_date (dbt-labs/fs#4424)

### Fixes

- Fix to_timestamp_ntz when called with Utf8View (dbt-labs/fs#4424)
- Fix execution of Snowflake to_date on certain string patterns (dbt-labs/fs#4424)
- Reject invalid try_to_timestamp_ntz calls (dbt-labs/fs#4424)
- Fix incorrect Snowflake TIMESTAMP_LTZ to TIMESTAMP_NTZ cast (dbt-labs/fs#4424)
- Fix incorrect to_timestamp_ntz for TIMESTAMP_LTZ argument (dbt-labs/fs#4424)


## dbt-fusion 2.0.0-beta.38 - July 15, 2025

### Features

- Include custom test name in generic test unique_id if specified
- Validate test severity config and include warn/error enum options in jsonschema (dbt-labs/fs#4174) - dbt-labs/fs#3763
- Minor update macro checkpointing (dbt-labs/fs#4287)
- Issue message when deps installed version is not latest version (dbt-labs/fs#4310) - dbt-labs/dbt-fusion#326
- (adapter/bigquery) support adapter.grant_access_to (dbt-labs/fs#4291) - dbt-labs/fs#1513
- Support PerformTest (dbt-labs/fs#4403)

### Fixes

- Fix root project database schema overwrite package config (dbt-labs/fs#4385) - dbt-labs/dbt-fusion#187 dbt-labs/dbt-fusion#313
- (fix adapter/databricks) tolerate perm denied error for schema creations (dbt-labs/fs#4404) - dbt-labs/dbt-fusion#258
- Correcting Semantic Layer JSONSchema objects (dbt-labs/fs#4408)
- Fix two name fields in tarball package lock entry (dbt-labs/fs#4429)
- Fixes operation node incompatibility in manifest.json (dbt-labs/fs#4433)

### Under the Hood

- Improve accuracy of metrics jsonschemas (dbt-labs/fs#4380)
- refactor jinja check (dbt-labs/fs#4387)
- minor fixes of jinja check (dbt-labs/fs#4406)
- fix jinja-check (dbt-labs/fs#4423)
- Internal build cache (dbt-labs/fs#4442)

## dbt extension 2.0.0-beta.38 - July 15, 2025

### Features

- Make it possible to preview a model when there is an unrelated compiler error elsewhere in the project (dbt-labs/fs#4347) - dbt-labs/dbt-fusion#73

### Fixes

- Handle JSON data in preview output, instead of displaying "[object Object]" (dbt-labs/fs#4354) - dbt-labs/fs#4321

## Internal 2.0.0-beta.38 - July 15, 2025

### Features

- Execute TIMESTAMP_LTZ ‚Üî VARIANT casts (dbt-labs/fs#4271)
- Refactor instructions and compiled sql management - eagerly perform lineage (dbt-labs/fs#4287)
- (adapter/bigquery) support adapter.grant_access_to (dbt-labs/fs#4291) - dbt-labs/fs#1513
- [Redshift] Username password auth via postgres (dbt-labs/fs#4381)
- Support PerformTest (dbt-labs/fs#4403)
- Internal Build Cache (dbt-labs/fs#4442)

### Fixes

- Improve fidelity of Snowflake varchar ‚Üí timestamp cast (dbt-labs/fs#4271)
- Restore execution of time ‚Üí variant cast (dbt-labs/fs#4271)
- Fix incorrect query result or spurious failures when two query includes two different casts from same variant column (dbt-labs/fs#4271)
- Fix case of returned value when casting variant binary value to varchar (dbt-labs/fs#4271)
- Fix format when casting whole second variant timestamp_ntz to varchar (dbt-labs/fs#4271)
- Fix unit test: this relation and overrides (dbt-labs/fs#4349) - dbt-labs/dbt-fusion#67
- Fixed unresponsivness when document parsing takes too long (dbt-labs/fs#4358)
- Fixed unresponsivness when parsing large sql files (dbt-labs/fs#4363)
- Issue message when deps installed version is not latest version (dbt-labs/fs#4310) - dbt-labs/dbt-fusion#326
- add sessions_by_project (dbt-labs/fs#4399) - dbt-labs/dbt-fusion#322
- Execution of Snowflake LAG, LEAD window functions (dbt-labs/fs#4405)
- Various bug fixes in dbt unit_tests (dbt-labs/fs#4411)

### Under the Hood

- Make use of Severity enum during test execution (dbt-labs/fs#4174) - dbt-labs/fs#3763
- LSP: Added SourceText (dbt-labs/fs#4379)
- minor fixes of jinja check (dbt-labs/fs#4406)
- Tidying code (dbt-labs/fs#4418)
- fix jinja-check (dbt-labs/fs#4423)


## dbt-fusion 2.0.0-beta.37 - July 10, 2025

### Features

- "Support typecheck for call statement"

### Under the Hood

- Remove unneeded space from error message (dbt-labs/fs#4351) - dbt-labs/fs#3623 dbt-labs/fs#3637

## dbt extension 2.0.0-beta.37 - July 10, 2025

## Internal 2.0.0-beta.37 - July 10, 2025

### Features

- "Support typecheck for call statement"

### Fixes

- (fix adapter/bigquery) oauth deser

### Under the Hood

- Update GHA to store PR and issue numbers for changelog (dbt-labs/fs#4270)
- Plan printing utility for debugging


## dbt-fusion 2.0.0-beta.36 - July 10, 2025

### Features

- update profile jinja rendering to only apply to target output
- Add support for type checking in Jinja templates
- [Databricks] Update incremental macros to 1.10
- Implement tarball deps packages
- "Support typecheck for builtin return function"

### Fixes

- Handle git packages that differ only in subdirectory
- Fixed truthiness for snapshot timestamp warning
- fix bq target
- [Bigquery] Fix certain column data_types rendering incorrectly
- [Databricks] Fix serialization for nonstandard struct field names
- Correctly extract ok/error from invocation result
- Populate flags.WHICH with the correct value
- Fix dispatch logic for using macros in context object
- Fix parsing of BigQuery partition_by config
- Command line arguments take precedence over the default selector

### Under the Hood

- New dbt-serde_yaml mechanisms; more accurate yaml error locations
- Support the dev, canary, and latest release tracks
- move span into Instruction::CallFunction
- add the span to instructions

## dbt extension 2.0.0-beta.36 - July 10, 2025

### Fixes

- Fixed invalid workspace name when runnning tasks in a monorepo setup
- LSP: Use stderr to display error messages when getting query results

## Internal 2.0.0-beta.36 - July 10, 2025

### Features

- Add support for type checking in Jinja templates
- More features of Snowflake UNION BY NAME
- Allow --select with --inline in the `dbt show` command
- "Support typecheck for builtin return function"

### Fixes

- [Bigquery] Fix sharded tables
- (fix adapter/bigquery) support other relation types
- Fix dbt1058 being reported for aliases
- Correct Snowflake grammar to reject double aliasing (e.g. SELECT * from tbl first second)
- Fix parsing of BigQuery partition_by config
- Typechecking Databricks functions ai_extract, ai_query
- [Databricks] Fix serialization and add test fixtures
- Add missing json functions to BQ dialect
- Mitigation advice for dynamic PIVOT
- Fixes only the first 8192 seed rows being consumed
- Parsing of STREAM table references

### Under the Hood

- Improvements to test infra/coverage
- add the span to instructions
- Performance improvement for lineage calculation


## dbt-fusion 2.0.0-beta.34 - July 07, 2025

### Features

- Implement deps --add-package
- implement exclude-resource-type flag
- [Databricks] Relation Configs Pt 1
- [Adapter][Snowflake/Bigquery/Databricks] Return empty columns list if relation is missing in adapter.get_columns_in_relation
- Reshape schemas to consolidate node specific configurations as attributes

### Fixes

- Restrict `log-path` to `logs` and `target-path` to `target`
- none is not iterable
- Remove the out of sync lock file
- Fix --output-keys flag to respect non default inputs #304
- Add support for recursive JsonSchema types with `__additional_properties`
- [Adapter][BigQuery] Support execution_project in profiles.yml
- gracefully handle deferral request errors and continue with no deferral
- [Databricks] Serialize DESCRIBE... JSON results
- Support grant merging with plus prefix in yaml or sql file
- Rewrite date_spine without introspective queries to enable a static analysis
- Drop `overrides` from source properties
- When the user uses this.incorporate, the corresponding database and schema directives should be respected.
- Add hint to run `dbt init` when profiles.yml isn't found, and warn that Cloud CLI isn't enabled yet when relevant

### Under the Hood

- use QUERY_DESTINATION_TABLE
- Robust and user-friendly arguments parser for minijinja
- Changes to assist debugging types mismatches from adapter.get_columns_in_relation
- Skip reading from local compilation results for snapshot

## dbt extension 2.0.0-beta.34 - July 07, 2025

## Internal 2.0.0-beta.34 - July 07, 2025

### Features

- support pivot query
- Implement deps --add-package
- Execute Snowflake to_binary(varchar) function
- Execute AND/OR with NULL
- Execute Snowflake to_time, try_to_time functions
- [Databricks] Relation Configs Pt 1
- Reshape schemas to consolidate node specific configurations as attributes

### Fixes

- (fix adapter/bigquery) adapter.update_columns support updating a view
- fix test type checking
- Restore execution of timestamp_ntz ‚Üî variant casts
- Fix for column autocomplete from seeds
- support union by name
- Fix --output-keys flag to respect non default inputs #304
- fix bigquery time function signatures
- Fix format in Snowflake TIMESTAMP_NTZ to VARCHAR cast
- Fix compute type of decimal division
- Execute Snowflake date ¬± interval
- Fix compute of Snowflake date_trunc with TIME
- Fix compute of Snowflake date_part
- Fix compute of Snowflake dayofweek, dayofweekiso functions
- Fix compute of Snowflake date_trunc with TIMESTAMP_NTZ
- Fix compile of Snowflake date_trunc with NULL date part
- Fix too strict Snowflake VARCHAR ‚Üí TIME
- Use correct pattern in Snowflake VARCHAR ‚Üí TIMESTAMP_NTZ cast
- [Adapter][BigQuery] Support execution_project in profiles.yml
- [Databricks] Extract metadata from serialized Databricks table metadata. Fixes 'struct', 'array', 'map' source schema download
- [Adapter][Snowflake/Bigquery/Databricks] Return empty columns list if relation is missing in `adapter.get_columns_in_relation`
- [Adapter][Snowflake/Bigquery/Databricks] Return empty columns list if relation is missing in adapter.get_columns_in_relation
- Enable accepting of the DBT_TARGET environment variable
- fix snowflake relation alias

### Under the Hood

- [Adapters] Use SDF frontend for type conversions
- Changes to assit debut types mismatches from adapter.get_columns_in_relation
- Update lsp state to filter tests using exclude resource types instead of excluding using selectors
- Internal test framework improvements
- test case for grants merging
- Test cases to check that when the user uses this.incorporate, the corresponding database and schema directives should be respected.


## dbt-fusion 2.0.0-beta.33 - July 01, 2025

### Fixes

-  Fixing --t , refining --thread 0 to stand for max-cpu, and use --threads parameter now also for io-bound computation
- enable_macro_span_for_if_stmt 
- Fixes a bug that prevented rendering of jinja in the profile value in the dbt_project.yml file.
- Fix default__generate_{}_name dispatch 
- Fix generic test with quoted column
- Create temporary directories in the project path so the rename does not fail
- support renaming on MutableMap
- Add adapter specific node config to all executable nodes
- should downcast a relation to a RelationObject

### Under the Hood

- Introduce strict-mode behind _DBT_FUSION_STRICT_MODE env var

## dbt extension 2.0.0-beta.33 - July 01, 2025

### Fixes

- enable_macro_span_for_if_stmt

## Internal 2.0.0-beta.33 - July 01, 2025

### Features

- Execute convert_timezone with varchar or timestamp_tz input

### Fixes

- Fixing --t , refining --thread 0 to stand for max-cpu, and use --threads parameter now also for io-bound computation
- Fixing --t , refining --thread 0 to stand for max-cpu, and use --threads parameter now also for io-bound computation
- Fix issue computing column lineage when table names are quoted
- enable_macro_span_for_if_stmt
- Fix Snowflake TIMESTAMP_NTZ to TIMESTAMP_LTZ cast
- Fix and refactor Databricks column name inference
- Support <seq>.nextval construct in Snowflake compilation
- Fix Snowflake compile for like_any, like_all, ilike_any functions

### Under the Hood

- Added a test that confirms that jinja in the value part of the profile of a dbt_project.yml can be rendered correctly
- Test framework improvements


## dbt-fusion 2.0.0-beta.32 - June 26, 2025

### Breaking Changes

- Support loaded_at_field and loaded_at_query in sources and tables config, not as properties

### Features

- Implement jinja exception "raise_contract_error"
- (adapter) enable use of type inferred columns in CSVs

### Fixes

- shorten file name length limit to account for .macro_span.json
- Limit -1 means no limit
- fix string bool manifest deserialization
- YAML Schema: fix type of `ModelConfig::tag` field
- Support index on list

### Under the Hood

- Define convenience macro for creating internal error
- fix errors swallowing

## dbt extension 2.0.0-beta.32 - June 26, 2025

## Internal 2.0.0-beta.32 - June 26, 2025

### Features

- Execute Snowflake cast VARCHAR to TIMESTAMP_TZ

### Fixes

- Fix window compute with implicit frame 
- Fix planning of Snowflake's QUALIFY

### Under the Hood

- Internal test framework improvements
- fix errors swallowing
- (adapter): bigquery now uses schemas from fs front end to pass type info through ffi to driver 


## dbt-fusion 2.0.0-beta.31 - June 26, 2025

### Fixes

- normalize special chars in source name
- Allow positional arguments in dictsort
- Fix model with CTE using ephemeral model
- Reverted timezone compatibility change due to 'chrono-tz' crate having an issue referencing 'uncased' crate
- Ignore .jinja files in macro and test paths for conformance with dbt-core
- Fix Selector Exclusion

### Under the Hood

- Serialize configs via resource_types

## dbt extension 2.0.0-beta.31 - June 26, 2025

## Internal 2.0.0-beta.31 - June 26, 2025

### Fixes

- Fix downloading a dbx source schema if that relation is created using cluster by
- Fix Selector Exclusion


## dbt-fusion 2.0.0-beta.30 - June 25, 2025

### Fixes

- Make semantic model entity configs optional
- Fix BQ seed with custom schema

## dbt extension 2.0.0-beta.30 - June 25, 2025

### Fixes

- trigger on_expr on every occurance of successful column resolution

## Internal 2.0.0-beta.30 - June 25, 2025

### Fixes

- trigger on_expr on every occurance of successful column resolution
- Fix BQ seed with custom schema


## dbt-fusion 2.0.0-beta.29 - June 25, 2025

### Features

- Implement jinja exceptions
- (adapter bigquery) enable seed ingestion
- Add 'static_analysis' property to all analyzeable nodes, ensure sources adapt static_analysis to failures

### Fixes

- Make modules.pytz.timezone compatible with dbt-core by tlm365.
- Fix `DbtContract` defaults for serialization
- Fix error while loading defer manifest
- fix panic in incorporate
- Add store_result and load_result macros to run-operation jinja context
- Fix quoting config not respected in various places - Automatic catalog/schema creation - api.Relation.create Jinja function

## dbt extension 2.0.0-beta.29 - June 25, 2025

### Under the Hood

- Update VSCE release script to release to Open VSX

## Internal 2.0.0-beta.29 - June 25, 2025

### Features

- Add 'static_analysis' property to all analyzeable nodes, ensure sources adapt static_analysis to failures

### Fixes

- Fix `DbtContract` defaults for serialization
- Fix Snowflake decimal to timestamp cast correctness
- Fix failure when computing Snowflake distinct array_agg
- Fix incorrect result for Snowflake empty array_agg
- respect severity warn for data test
- Add store_result and load_result macros to run-operation jinja context
- Fix quoting config not respected in various places - Automatic catalog/schema creation - api.Relation.create Jinja function

### Under the Hood

- (adapter bigquery) enable dbt seed
- Fix TIME & TIMESTAMP decoding in Snowflake SLT tests


## dbt-fusion 2.0.0-beta.28 - June 24, 2025

### Fixes

- Respect quote config in column test generation
- Support string or array of strings for databricks liquid_clustered_by config + add missing merge configs
- fix map_to_workspace_path
- Fix span reporting for source yaml issues
- Fix respecting static_analysis project, properties, and config

## dbt extension 2.0.0-beta.28 - June 24, 2025

### Features

- Start LSP instance for every manually opened dbt workspace even when not opened as a root dir

## Internal 2.0.0-beta.28 - June 24, 2025

### Fixes

- fix map_to_workspace_path
- Support distinct types (FixedSizeList-based) in GROUP BY


## dbt-fusion 2.0.0-beta.27 - June 23, 2025

### Fixes

- correctly resolve selector inheritence
- Fix exlusion logic so exclusion happens after selection and indirect selection

## Internal 2.0.0-beta.27 - June 23, 2025

### Breaking Changes

- Change Snowflake timestamp compute precision to microseconds to support values in year 0001 and 9999

### Fixes

- Use human-readable type names in function compute stubs
- Fix exlusion logic so exclusion happens after selection and indirect selection
- dbt compile respects --no-write-json
- Respect element ordering in Snowflake array_agg
- Use identifier for sources when creating relation

### Under the Hood

- Fix xtask gen-binders
- Change CLL computation to happen upfront
- LSP: Drop previous state as soon as possible


## dbt-fusion 2.0.0-beta.26 - June 23, 2025

### Features

- Support datetime in seed
- Collect refs and sources in pre/post hooks and provide better error message for unrecognized refs at compile time
- Support auto deferral

### Fixes

- fix snowflake_warehouse config not respected
- No longer create empty schema on DataFrame collect error

## Internal 2.0.0-beta.26 - June 23, 2025

### Features

- Collect refs and sources in pre/post hooks and provide better error message for unrecognized refs at compile time

### Fixes

- fix snowflake_warehouse config not respected
- Use inferred physical plan instead of logical plan for dialect adapted table provider

### Under the Hood

- Test infra improvements
- Fixes needed for regression testing


## dbt-fusion 2.0.0-beta.25 - June 20, 2025

### Features

- Support datetime in seed

### Fixes

- Add missing `warn_unenforced` to `Constraint` and split out `ModelConstraint`
- `profiles.yml` in all log output instead of `profile.yml`
- Refactor nodes to leverage respective configs over 'DbtConfig' superset
- fix the incorrect source filename some render error
- Jinja: refine dangling block end check
- Fix missing 'materialized' property in snapshot config
- Fix Exosure Properties Expected Schema

### Under the Hood

- Error handling: eliminate MinijinjaError implicit conversion

## Internal 2.0.0-beta.25 - June 20, 2025

### Features

- [Bigquery] Fix quoting for literals in metadata and unit tests. Also, add support for bigquery flavored unit tests via structs.

### Fixes

- `profiles.yml` in all log output instead of `profile.yml`
- (fix bigquery/adapter) failure to run twice on the same model of table materialization
- Fix possible panic on cancellation
- Refactor nodes to leverage respective configs over 'DbtConfig' superset
- Detect a certain class of syntactic errors in macro files
- Fix missing 'materialized' property in snapshot config

### Under the Hood

- Error handling: eliminate MinijinjaError implicit conversion


## dbt-fusion 2.0.0-beta.24 - June 18, 2025

### Fixes

- Fix parse_fqn with trailing semicolon for Snowflake
- [BigQuery] Fix type translation for STRING type
- Improve the mat macro lookup logic

### Under the Hood

- Add support for parsing catalogs.yml files
- (dbt-agate) add all 4 arrow timestamp types as Arrow2Jinja converters.
- Include properties of built-in generic tests in jsonschemas
- Fix telemetry timestamps
- Introduce mechanism for error recovery on Yaml deserialization

## dbt extension 2.0.0-beta.24 - June 18, 2025

### Under the Hood

- Now we test the extension under Linux

## Internal 2.0.0-beta.24 - June 18, 2025

### Features

- Improve Snowflake query execution support

### Fixes

- Fix type parsing not to ignore tail of input
- Allow implementing functions by composition
- Fix SLT decoding of NULL timestamp_tz in data coming from Snowflake
- Error out on incompatible Snowflake timestamp UNION coercion
- Improve the mat macro lookup logic
- LSP: Cancelling current compilation on save or recompile.

### Under the Hood

- Fixed logfile creation


## dbt-fusion 2.0.0-beta.23 - June 17, 2025

### Features

- Support dbt_project.yml config support for exposures
- Support parsing redshift-specific configs
- Add redact_credentials method for databricks.

### Fixes

- Validate --vars key-value pairs that do not have a space between key and value
- Collect only prescribed set of directories for docs

### Under the Hood

- Fix missing locations in Yaml related errors
- listener generates macro_spans
- Remove unused crate dependencies
- Use FsError in more places

## Internal 2.0.0-beta.23 - June 17, 2025

### Features

- Write out publication and resolved project artifact
- Add support for custom delimiters
- (adapter) add redact_credentials implementation to dbx

### Fixes

- Snowflake typing improvements
- Fix type inference for Snowflake calls with untyped string literals first
- Databricks typing improvements
- [Databricks] client_id is no longer required for U2M Oauth

### Under the Hood

- Use install scripts published to the CDN instead of the install script built in the binary for the system update command.
- Fix missing locations in Yaml related errors
- listener generates macro_spans
- Move dbt-frontend-schemas out of SA


## dbt-fusion 2.0.0-beta.22 - June 12, 2025

### Fixes

- Use absolute paths for error reporting when reading yml files
- Remove unnecessary flatten directive
- this.MaterializedView is missing
- Fixes missing resource_type in materialize stage
- Ensure snapshots have 'materialized' set to snapshot

### Under the Hood

- [Adapters] Added literal formatting layer for dialect aware translations
- fixes

## Internal 2.0.0-beta.22 - June 12, 2025

### Fixes

- Snowflake typing improvements
- Fix relational tests causing cycle in build graph
- Add missing argument types for Databricks quarter()
- add quote to DbtColumn
- Fixes missing resource_type in materialize stage

### Under the Hood

- Internal testing framework improvements
- Internal testing framework improvements
- clean up unnecessary canonicalize


## dbt-fusion 2.0.0-beta.20 - June 11, 2025

### Features

- Implement --send-anonymous-usage-stats
- Introduce context['...'] for macro lookups

### Fixes

- Ensure on-run-start / end have context[...] object

### Under the Hood

- Add driver level REPL

## Internal 2.0.0-beta.20 - June 11, 2025

### Features

- Implement --send-anonymous-usage-stats
- Support Mesh models for SAO
- Introduce context['...'] for macro lookups

### Fixes

- Ensure on-run-start / end have context[...] object
- Fix SAO showing aborted task when stop_val = start_val

### Under the Hood

- Add adbc driver repl


## dbt-fusion 2.0.0-beta.18 - June 10, 2025

### Features

- (databricks-adapter) get_relation_config and get_config_from_model methods start
- [Databricks] Add get_persist_doc_columns

### Fixes

- Updated column cast to have a better error message
- Add missing 'skip_serializing_none' to reduce the manifest size
- Fixes ambiguity in DATE rendering by adding single quotes
- Fix duplicate snapshot ingestion when projects begin with 'dbt_'

### Under the Hood

- Logging: remove the global logger lock
- patch config.model

## Internal 2.0.0-beta.18 - June 10, 2025

### Features

- [Databricks] Add freshness
- (databricks-adapter) get_relation_config and get_config_from_model methods start
- [Databricks] Add get_persist_doc_columns
- Introduce source freshness --check-all flag

### Fixes

- Add missing Snowflake ARRAYS_ZIP function
- Port the keypair param conflict message for snow.
- Update defer to work on all ref-able nodes
- Add missing fields to Snowflake ACCOUNT_USAGE.USERS table
- fix adapters/databricks
  support the missing column methods `format_add_column_list` and `format_add_column_list_as_string`
  fix column `quoted` method
  fix `adapter.get_columns_in_relation` - fetches remote state for incremental models
  fix `adapter.get_columns_in_relation` to use the correct macro

- Fix building task graph performance and remove duplicate snapshots if project name starts with 'dbt_'

### Under the Hood

- Logging: remove the global logger lock


## dbt-fusion 2.0.0-beta.16 - June 06, 2025

### Fixes

- (fix snowflake-adapter) pass query_tag from dbt_project.yml
- Use build_model_context for ref and source extraction environment
- Use OS services to check TLS certificates
- fix config.model
- resolve project configs relative to resource path
- Fix for go to definitions for jinja functions containing a 'return'
- Fix skipping custom generate_{}_name macro when projects suffixed with '_dbt' & missing resource_type in graph / manifest.json & case sensitive extensions
- Refactor node context initialization to have independent stateful fn init

### Under the Hood

- Bump snowflake driver to patch gosnowflake, arrow-adbc, and fs. Reverts PR 3709 which has been patched in the driver now.
- Remove unused shared mutable global state

## dbt extension 2.0.0-beta.16 - June 06, 2025

### Features

- Added file logger for extenstion logs

### Fixes

- Fixes webview panels being always registered
- Fix for go to definitions for jinja functions containing a 'return'

### Under the Hood

- Fixed mac test runs

## Internal 2.0.0-beta.16 - June 06, 2025

### Features

- [Databricks] Add get_column_schema_from_query

### Fixes

- fix snowflake stage panic in dep analysis
- Fix type of Snowflake ceil(null) / floor(null)
- Fix CREATE TABLE OR REPLACE and IF NOT EXISTS compilation in Snowflake
- Add support for commented sql in inline and fix custom ref missing variable contexts
- Use OS services to check TLS certificates
- Snowflake compiler improvements
- Fix for go to definitions for jinja functions containing a 'return'
- (1) make extension matching case insensitive for seeds (2) skipping generate_{}_name in projects suffixed w/ '_dbt' (3) missing graph source resource types
- Add missing store_result / load_result context to 'on-run-start' and 'on-run-end'

### Under the Hood

- Improve Snowflake compiler speed
- Ensure consistent paths in error messages


## dbt-fusion 2.0.0-beta.15 - June 04, 2025

### Features

- Support `catalog` config for databricks model configs
- Split render & analyze phases into separate progress options

## Internal 2.0.0-beta.15 - June 04, 2025

### Features

- Add progress bar logging for analyzing phase & split compiling logs into render & analyze

### Fixes

- BigQuery typing improvements
- (fix dbt-adapter/snowflake/auth) include header and footer if they're missing from the private key string literal
- BigQuery typing improvements
- BigQuery typing improvements
- Fix missing checksum in snapshot manifest entry

### Under the Hood

- Rename and document SelectItemAlias struct


## dbt-fusion 2.0.0-beta.14 - June 03, 2025

### Features

- implement union for seq in minijinja
- New event based progress bar functionality for cli
- Add dict function support on tuples in minijinja

### Fixes

- Fix the databricks function try_to_number() return type
- Allow catalog in sources properties (alias for database)

### Under the Hood

- Bump databricks driver to 0.18.0+dbt0.0.4
- Bump databricks driver to 0.18.0+dbt0.0.5

## dbt extension 2.0.0-beta.14 - June 03, 2025

### Fixes

- Fix for Codelenses showing up in the wrong places

## Internal 2.0.0-beta.14 - June 03, 2025

### Features

- implement union for seq in minijinja
- New event based  progress bar functionality for cli

### Fixes

- Fix duplicate edges in 'render' -> 'compile' -> 'run' task graph
- Fix the databricks function try_to_number() return type
- BigQuery typing improvements
- Fix for unit test paths clobbering model paths in LSP
- Run on-run-* hooks in source freshness command
- Fix issue with task cache hanging on invalid stop time
- Replace '_' with '-' in snowflake account ids to replicate dbt Core snowflake adapter behavior
- Fix sources schemas fetch for dbx
- hydrate tables for test


## 2.0.0-beta.13 - May 30, 2025

### Fixes

- Improved dbt Fusion show stability for VS Code extension previews by removing schema / type checking
- Removed unnecessary language server compilation failure message "Failed to Resolve" 
- Added error on parsing `flags` and `config` properties in `profiles.yml`, as they no longer do anything and are skipped during Fusion parse
- Improved stability of LSP incremental recompilation  
- Fixed duplicate model name parsing bug ([#63](https://github.com/dbt-labs/dbt-fusion/issues/63))
- Added support for `DBT_PROFILES_DIR` and other env vars in dbt LSP and `profiles.yml`
- Added support for `add_query` adapter method in Databricks
- Added support for Date32/64 and Time32/64 types in dbt Fusion Agate (`stfrtime` method for example). Partially addressed [#79](https://github.com/dbt-labs/dbt-fusion/issues/79)
- Fixed issue with unit test refs / dependencies not being respected
- Fixed issue where `static_analysis` config is not respected in YML


